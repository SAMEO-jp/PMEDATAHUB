"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/week-shiwake/[year]/[week]/page",{

/***/ "(app-pages-browser)/./src/app/week-shiwake/[year]/[week]/page.tsx":
/*!*****************************************************!*\
  !*** ./src/app/week-shiwake/[year]/[week]/page.tsx ***!
  \*****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ WeekShiwakePage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _imports__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./imports */ \"(app-pages-browser)/./src/app/week-shiwake/[year]/[week]/imports.ts\");\n/* harmony import */ var _store_uiStore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./store/uiStore */ \"(app-pages-browser)/./src/app/week-shiwake/[year]/[week]/store/uiStore.ts\");\n/* harmony import */ var _utils_formatEventForClientUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/formatEventForClientUtils */ \"(app-pages-browser)/./src/app/week-shiwake/[year]/[week]/utils/formatEventForClientUtils.ts\");\n/* harmony import */ var _hooks_useResizeEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hooks/useResizeEvent */ \"(app-pages-browser)/./src/app/week-shiwake/[year]/[week]/hooks/useResizeEvent.ts\");\n/* eslint-disable @typescript-eslint/no-explicit-any */ /* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\nfunction WeekShiwakePage() {\n    _s();\n    // ==========================================\n    // パラメータとルーティング\n    // ==========================================\n    const params = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useParams)();\n    const year = Number.parseInt(params.year) || new Date().getFullYear();\n    const week = Number.parseInt(params.week) || (0,_imports__WEBPACK_IMPORTED_MODULE_2__.getWeekNumber)(new Date());\n    // ==========================================\n    // 日付と時間の計算\n    // ==========================================\n    const { startDate, endDate } = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.getWeekDates)(year, week);\n    const weekDays = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.getWeekDaysArray)(startDate, endDate);\n    const timeSlots = Array.from({\n        length: 24\n    }, (_, i)=>i);\n    const today = new Date();\n    const isToday = (date)=>{\n        return date.getDate() === today.getDate() && date.getMonth() === today.getMonth() && date.getFullYear() === today.getFullYear();\n    };\n    // ==========================================\n    // 状態管理\n    // ==========================================\n    // UI Store\n    const { selectedTab, selectedProjectSubTab, indirectSubTab, saveMessage, apiError, setSelectedTab, setSelectedProjectSubTab, setIndirectSubTab, setSaveMessage, setApiError } = (0,_store_uiStore__WEBPACK_IMPORTED_MODULE_3__.useUIStore)();\n    // ローカルステート\n    const [loading, setLoading] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [events, setEvents] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [selectedEvent, setSelectedEvent] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [employees, setEmployees] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [projects, setProjects] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [activeEvent, setActiveEvent] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [hasChanges, setHasChanges] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isSaving, setIsSaving] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [currentUser, setCurrentUser] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        user_id: \"999999\",\n        name: \"仮\"\n    });\n    const [isCtrlPressed, setIsCtrlPressed] = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const previousYearWeek = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useRef)({\n        year,\n        week\n    });\n    const { handleResizeStart } = (0,_hooks_useResizeEvent__WEBPACK_IMPORTED_MODULE_5__.useResizeEvent)(events, setEvents, selectedEvent, setSelectedEvent, year, week);\n    // ==========================================\n    // データ読み込み関数\n    // ==========================================\n    const fetchCurrentUser = async ()=>{\n        const storedUser = localStorage.getItem(\"currentUser\");\n        if (!storedUser) {\n            throw new Error(\"ユーザー情報が見つかりません\");\n        }\n        const parsedUser = JSON.parse(storedUser);\n        const userData = {\n            user_id: parsedUser.user_id,\n            name: parsedUser.name_japanese\n        };\n        setCurrentUser(userData);\n        return userData;\n    };\n    const loadWeekData = async function() {\n        let forceRefresh = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        setLoading(true);\n        setApiError(null);\n        try {\n            // ユーザー情報の取得\n            const userData = await fetchCurrentUser();\n            // 社員データの取得\n            const empData = await (0,_imports__WEBPACK_IMPORTED_MODULE_2__.getEmployees)();\n            setEmployees(empData);\n            // プロジェクトデータの取得\n            const cachedProjects = localStorage.getItem(\"currentUser_projects\");\n            if (cachedProjects) {\n                const parsedProjects = JSON.parse(cachedProjects);\n                setProjects(parsedProjects);\n            }\n            // 週データの取得\n            const cachedData = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.getWeekDataFromStorage)(year, week, userData.user_id);\n            const hasChanged = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(year, week, userData.user_id);\n            if (forceRefresh || !cachedData || hasChanged) {\n                const apiUrl = \"/api/zisseki/week/\".concat(userData.user_id, \"/\").concat(year, \"/\").concat(week);\n                try {\n                    const response = await fetch(apiUrl);\n                    if (!response.ok) {\n                        const errorText = await response.text();\n                        throw new Error(\"API応答エラー: \".concat(response.status, \", \").concat(errorText));\n                    }\n                    const data = await response.json();\n                    if (!data.success) {\n                        throw new Error(data.message || \"データの取得に失敗しました\");\n                    }\n                    const formattedEvents = data.data.map((event)=>{\n                        return (0,_utils_formatEventForClientUtils__WEBPACK_IMPORTED_MODULE_4__.formatEventForClient)(event);\n                    });\n                    setEvents(formattedEvents);\n                    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, userData.user_id, formattedEvents);\n                    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, userData.user_id, false);\n                } catch (apiError) {\n                    setApiError(String(apiError));\n                    if (cachedData) {\n                        setEvents(cachedData);\n                    } else {\n                        setEvents([]);\n                    }\n                }\n            } else {\n                setEvents(cachedData);\n            }\n            setSelectedEvent(null);\n        } catch (error) {\n            setApiError(error instanceof Error ? error.message : String(error));\n            setEvents([]);\n        } finally{\n            setLoading(false);\n        }\n    };\n    // ==========================================\n    // DnD設定\n    // ==========================================\n    const sensors = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useSensors)((0,_imports__WEBPACK_IMPORTED_MODULE_2__.useSensor)(_imports__WEBPACK_IMPORTED_MODULE_2__.PointerSensor, {\n        activationConstraint: {\n            distance: 5\n        }\n    }), (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useSensor)(_imports__WEBPACK_IMPORTED_MODULE_2__.KeyboardSensor));\n    // ==========================================\n    // イベントハンドラ\n    // ==========================================\n    // 週データの保存\n    const handleSaveWeekData = async ()=>{\n        if (!currentUser || !currentUser.user_id) {\n            console.error(\"デバッグ: 保存時のユーザーIDが不正:\", currentUser);\n            setSaveMessage({\n                type: \"error\",\n                text: \"ユーザー情報が正しく設定されていません\"\n            });\n            return;\n        }\n        try {\n            setIsSaving(true);\n            console.log(\"デバッグ: 保存API呼び出し時のユーザーID:\", currentUser.user_id);\n            const response = await fetch(\"/api/zisseki/week/\".concat(currentUser.user_id, \"/\").concat(year, \"/\").concat(week), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    events\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            const data = await response.json();\n            if (!data.success) {\n                throw new Error(data.message || \"データの保存に失敗しました\");\n            }\n            setSaveMessage({\n                type: \"success\",\n                text: \"保存が完了しました\"\n            });\n            (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, false);\n            setHasChanges(false);\n        } catch (error) {\n            console.error(\"保存中にエラーが発生しました:\", error);\n            setSaveMessage({\n                type: \"error\",\n                text: error instanceof Error ? error.message : \"保存に失敗しました\"\n            });\n        } finally{\n            setIsSaving(false);\n        }\n    };\n    // イベントクリック\n    const handleEventClick = (event)=>{\n        setSelectedEvent(event);\n    };\n    // タイムスロットクリック\n    const handleTimeSlotClick = function(day, hour) {\n        let minute = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n        if (!currentUser || !currentUser.user_id) {\n            console.error(\"ユーザー情報が正しく設定されていません\");\n            alert(\"ユーザー情報が正しく設定されていません。ログインし直してください。\");\n            return;\n        }\n        const newEvent = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.createNewEvent)({\n            day,\n            hour,\n            minute,\n            user_id: currentUser.user_id,\n            selectedTab,\n            selectedProjectSubTab,\n            projects\n        });\n        const updatedEvents = [\n            ...events,\n            newEvent\n        ];\n        setEvents(updatedEvents);\n        setSelectedEvent(newEvent);\n        (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, currentUser.user_id, updatedEvents);\n        (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, true);\n    };\n    // ドラッグ開始\n    const handleDragStart = (event)=>{\n        const { active } = event;\n        const draggedEvent = active.data.current.event;\n        const dragHandleOffset = active.data.current.dragHandleOffset || 16;\n        setActiveEvent({\n            ...draggedEvent,\n            dragHandleOffset\n        });\n    };\n    // ドラッグ終了\n    const handleDragEnd = (event)=>{\n        const { active, over } = event;\n        setActiveEvent(null);\n        if (!over) return;\n        const draggedEvent = active.data.current.event;\n        const { day, hour, minute = 0 } = over.data.current;\n        const dragHandleOffset = active.data.current.dragHandleOffset || _imports__WEBPACK_IMPORTED_MODULE_2__.FIFTEEN_MIN_HEIGHT;\n        const originalStart = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.parseDateTime)(draggedEvent.startDateTime);\n        const originalEnd = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.parseDateTime)(draggedEvent.endDateTime);\n        const duration = (originalEnd.getTime() - originalStart.getTime()) / 60000;\n        const newStart = new Date(day);\n        newStart.setHours(hour);\n        newStart.setMinutes(minute);\n        newStart.setSeconds(0);\n        newStart.setMilliseconds(0);\n        const newEnd = new Date(newStart);\n        newEnd.setMinutes(newStart.getMinutes() + duration);\n        const startDateTimeStr = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.formatDateTimeForStorage)(newStart);\n        const endDateTimeStr = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.formatDateTimeForStorage)(newEnd);\n        if (isCtrlPressed) {\n            const year = newStart.getFullYear();\n            const month = (newStart.getMonth() + 1).toString().padStart(2, \"0\");\n            const day_str = newStart.getDate().toString().padStart(2, \"0\");\n            const hours = newStart.getHours().toString().padStart(2, \"0\");\n            const minutes = newStart.getMinutes().toString().padStart(2, \"0\");\n            const newId = \"\".concat(draggedEvent.user_id, \"_\").concat(year).concat(month).concat(day_str).concat(hours).concat(minutes);\n            const copiedEvent = {\n                ...draggedEvent,\n                id: newId,\n                keyID: newId,\n                startDateTime: startDateTimeStr,\n                endDateTime: endDateTimeStr,\n                top: newStart.getHours() * 64 + newStart.getMinutes() / 60 * 64,\n                unsaved: true\n            };\n            const updatedEvents = [\n                ...events,\n                copiedEvent\n            ];\n            setEvents(updatedEvents);\n            (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, currentUser.user_id, updatedEvents);\n            (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, true);\n        } else {\n            const updatedEvents = events.map((e)=>{\n                if (e.id === draggedEvent.id) {\n                    return {\n                        ...e,\n                        startDateTime: startDateTimeStr,\n                        endDateTime: endDateTimeStr,\n                        top: newStart.getHours() * 64 + newStart.getMinutes() / 60 * 64,\n                        unsaved: true\n                    };\n                }\n                return e;\n            });\n            setEvents(updatedEvents);\n            (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, currentUser.user_id, updatedEvents);\n            (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, true);\n            if (selectedEvent && selectedEvent.id === draggedEvent.id) {\n                setSelectedEvent({\n                    ...selectedEvent,\n                    startDateTime: startDateTimeStr,\n                    endDateTime: endDateTimeStr,\n                    top: newStart.getHours() * 64 + newStart.getMinutes() / 60 * 64,\n                    unsaved: true\n                });\n            }\n        }\n    };\n    // イベント更新\n    const updateEvent = (updatedEvent)=>{\n        let updatedColor = updatedEvent.color;\n        if (updatedEvent.project && updatedEvent.project !== (selectedEvent === null || selectedEvent === void 0 ? void 0 : selectedEvent.project)) {\n            const lastDigit = updatedEvent.project.slice(-1);\n            const projectColors = {\n                \"0\": \"#3788d8\",\n                \"1\": \"#43a047\",\n                \"2\": \"#8e24aa\",\n                \"3\": \"#e67c73\",\n                \"4\": \"#f6bf26\",\n                \"5\": \"#0097a7\",\n                \"6\": \"#ff9800\",\n                \"7\": \"#795548\",\n                \"8\": \"#607d8b\",\n                \"9\": \"#d81b60\"\n            };\n            updatedColor = lastDigit ? projectColors[lastDigit] || \"#3788d8\" : \"#3788d8\";\n        }\n        const updatedEvents = events.map((e)=>{\n            if (e.id === updatedEvent.id) {\n                return {\n                    ...updatedEvent,\n                    color: updatedColor,\n                    unsaved: true\n                };\n            }\n            return e;\n        });\n        setEvents(updatedEvents);\n        setSelectedEvent({\n            ...updatedEvent,\n            color: updatedColor\n        });\n        (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, currentUser.user_id, updatedEvents);\n        (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, true);\n    };\n    // イベント削除\n    const handleDeleteEvent = async ()=>{\n        if (!selectedEvent) return;\n        try {\n            if (confirm(\"このイベントを削除してもよろしいですか？\")) {\n                if ((0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(year, week, currentUser.user_id)) {\n                    try {\n                        await (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekAchievements)(year, week, events);\n                    } catch (error) {\n                        if (!confirm(\"変更の保存に失敗しました。それでも削除を続けますか？\")) {\n                            return;\n                        }\n                    }\n                }\n                if (!selectedEvent.id.startsWith(\"new-\")) {\n                    await (0,_imports__WEBPACK_IMPORTED_MODULE_2__.deleteAchievement)(selectedEvent.id);\n                }\n                const updatedEvents = events.filter((e)=>e.id !== selectedEvent.id);\n                setEvents(updatedEvents);\n                setSelectedEvent(null);\n                (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, currentUser.user_id, updatedEvents);\n                (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, true);\n                alert(\"イベントが削除されました\");\n            }\n        } catch (error) {\n            alert(\"削除エラー: \".concat(error instanceof Error ? error.message : String(error)));\n        }\n    };\n    // ==========================================\n    // エフェクト\n    // ==========================================\n    // Ctrlキーの監視\n    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Control\") {\n                setIsCtrlPressed(true);\n            }\n        };\n        const handleKeyUp = (e)=>{\n            if (e.key === \"Control\") {\n                setIsCtrlPressed(false);\n            }\n        };\n        window.addEventListener(\"keydown\", handleKeyDown);\n        window.addEventListener(\"keyup\", handleKeyUp);\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown);\n            window.removeEventListener(\"keyup\", handleKeyUp);\n        };\n    }, []);\n    // デフォルトイベントの設定\n    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!loading && events.length === 0 && !selectedEvent) {\n            const today = new Date();\n            const defaultHour = 9;\n            const defaultEvent = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.createNewEvent)({\n                day: weekDays[0],\n                hour: defaultHour,\n                minute: 0,\n                user_id: currentUser.user_id,\n                selectedTab,\n                selectedProjectSubTab,\n                projects\n            });\n            setSelectedEvent({\n                ...defaultEvent,\n                isDefault: true\n            });\n        }\n    }, [\n        loading,\n        events,\n        selectedEvent,\n        weekDays,\n        currentUser,\n        selectedTab,\n        selectedProjectSubTab,\n        projects\n    ]);\n    // 週変更時の処理\n    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const handleWeekChange = async ()=>{\n            const prevYear = previousYearWeek.current.year;\n            const prevWeek = previousYearWeek.current.week;\n            if (prevYear !== year || prevWeek !== week) {\n                if ((0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(prevYear, prevWeek, currentUser.user_id)) {\n                    try {\n                        const prevWeekEvents = events;\n                        const shouldSave = confirm(\"\".concat(prevYear, \"年第\").concat(prevWeek, \"週のデータに未保存の変更があります。保存しますか？\"));\n                        if (shouldSave) {\n                            setIsSaving(true);\n                            await (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekAchievements)(prevYear, prevWeek, prevWeekEvents);\n                            setSaveMessage({\n                                type: \"success\",\n                                text: \"\".concat(prevYear, \"年第\").concat(prevWeek, \"週のデータを保存しました\")\n                            });\n                            setTimeout(()=>setSaveMessage(null), 5000);\n                        } else {\n                            (0,_imports__WEBPACK_IMPORTED_MODULE_2__.clearWeekData)(prevYear, prevWeek);\n                        }\n                    } catch (error) {\n                        console.error(\"前の週のデータ保存中にエラーが発生しました:\", error);\n                        setSaveMessage({\n                            type: \"error\",\n                            text: \"保存エラー: \".concat(error instanceof Error ? error.message : String(error))\n                        });\n                        setTimeout(()=>setSaveMessage(null), 5000);\n                    } finally{\n                        setIsSaving(false);\n                    }\n                }\n            }\n            previousYearWeek.current = {\n                year,\n                week\n            };\n            await loadWeekData(true);\n        };\n        handleWeekChange();\n    }, [\n        year,\n        week\n    ]);\n    // 変更フラグの監視\n    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const checkChanges = ()=>{\n            const changed = (0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(year, week, currentUser.user_id);\n            setHasChanges(changed);\n        };\n        checkChanges();\n        const interval = setInterval(checkChanges, 1000);\n        return ()=>clearInterval(interval);\n    }, [\n        year,\n        week\n    ]);\n    // ページ離脱時の処理\n    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const handleBeforeUnload = (e)=>{\n            if ((0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(year, week, currentUser.user_id)) {\n                try {\n                    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, currentUser.user_id, events);\n                    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, true);\n                } catch (error) {\n                    console.error(\"離脱時の自動保存処理中にエラーが発生しました:\", error);\n                }\n                e.preventDefault();\n                e.returnValue = \"変更が保存されていません。このページを離れますか？\";\n                return e.returnValue;\n            }\n        };\n        const handleRouteChange = ()=>{\n            if ((0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(year, week, currentUser.user_id)) {\n                try {\n                    console.log(\"ページ移動時に自動保存します\");\n                    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekDataToStorage)(year, week, currentUser.user_id, events);\n                    handleSaveWeekData();\n                } catch (error) {\n                    console.error(\"ページ移動時の自動保存処理中にエラーが発生しました:\", error);\n                }\n            }\n        };\n        window.addEventListener(\"beforeunload\", handleBeforeUnload);\n        window.addEventListener(\"popstate\", handleRouteChange);\n        return ()=>{\n            window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n            window.removeEventListener(\"popstate\", handleRouteChange);\n        };\n    }, [\n        year,\n        week,\n        events\n    ]);\n    // 週の移動\n    const moveToWeek = async (newYear, newWeek)=>{\n        if ((0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(year, week, currentUser.user_id)) {\n            const shouldSave = confirm(\"\".concat(year, \"年第\").concat(week, \"週のデータに未保存の変更があります。保存しますか？\"));\n            if (shouldSave) {\n                try {\n                    setIsSaving(true);\n                    await (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekAchievements)(year, week, events);\n                    setSaveMessage({\n                        type: \"success\",\n                        text: \"\".concat(year, \"年第\").concat(week, \"週のデータを保存しました\")\n                    });\n                    setTimeout(()=>setSaveMessage(null), 5000);\n                } catch (error) {\n                    console.error(\"保存中にエラーが発生しました:\", error);\n                    setSaveMessage({\n                        type: \"error\",\n                        text: \"保存エラー: \".concat(error instanceof Error ? error.message : String(error))\n                    });\n                    setTimeout(()=>setSaveMessage(null), 5000);\n                    return;\n                } finally{\n                    setIsSaving(false);\n                }\n            }\n        }\n        window.location.href = \"/week-shiwake/\".concat(newYear, \"/\").concat(newWeek);\n    };\n    // 保存処理\n    const saveWeekData = async ()=>{\n        if (!(0,_imports__WEBPACK_IMPORTED_MODULE_2__.hasWeekDataChanged)(year, week, currentUser.user_id)) {\n            setSaveMessage({\n                type: \"info\",\n                text: \"保存する変更がありません\"\n            });\n            setTimeout(()=>setSaveMessage(null), 3000);\n            return;\n        }\n        try {\n            setIsSaving(true);\n            await (0,_imports__WEBPACK_IMPORTED_MODULE_2__.saveWeekAchievements)(year, week, events);\n            setSaveMessage({\n                type: \"success\",\n                text: \"保存が完了しました\"\n            });\n            setTimeout(()=>setSaveMessage(null), 3000);\n            (0,_imports__WEBPACK_IMPORTED_MODULE_2__.setWeekDataChanged)(year, week, currentUser.user_id, false);\n        } catch (error) {\n            console.error(\"保存中にエラーが発生しました:\", error);\n            setSaveMessage({\n                type: \"error\",\n                text: \"保存エラー: \".concat(error instanceof Error ? error.message : String(error))\n            });\n            setTimeout(()=>setSaveMessage(null), 5000);\n        } finally{\n            setIsSaving(false);\n        }\n    };\n    // カスタムイベントリスナー\n    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const handleRefresh = ()=>{\n            loadWeekData(true);\n        };\n        const handleSave = ()=>{\n            saveWeekData();\n        };\n        const handleWeekChange = (event)=>{\n            const { newYear, newWeek } = event.detail;\n            moveToWeek(newYear, newWeek);\n        };\n        window.addEventListener(\"week-refresh\", handleRefresh);\n        window.addEventListener(\"week-save\", handleSave);\n        window.addEventListener(\"week-change\", handleWeekChange);\n        return ()=>{\n            window.removeEventListener(\"week-refresh\", handleRefresh);\n            window.removeEventListener(\"week-save\", handleSave);\n            window.removeEventListener(\"week-change\", handleWeekChange);\n        };\n    }, [\n        events,\n        year,\n        week\n    ]);\n    // 保存メッセージの通知\n    (0,_imports__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (saveMessage) {\n            window.dispatchEvent(new CustomEvent(\"week-save-message\", {\n                detail: saveMessage\n            }));\n        }\n    }, [\n        saveMessage\n    ]);\n    // ==========================================\n    // レンダリング\n    // ==========================================\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"p-4\",\n        children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center items-center h-64\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                lineNumber: 679,\n                columnNumber: 11\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n            lineNumber: 678,\n            columnNumber: 9\n        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col\",\n            children: [\n                apiError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"font-bold\",\n                            children: \"APIエラーが発生しました\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                            lineNumber: 685,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm\",\n                            children: apiError\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                            lineNumber: 686,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm mt-2\",\n                            children: \"ローカルキャッシュからデータを表示しています。最新のデータではない可能性があります。\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                            lineNumber: 687,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                    lineNumber: 684,\n                    columnNumber: 13\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_imports__WEBPACK_IMPORTED_MODULE_2__.DndContext, {\n                            sensors: sensors,\n                            collisionDetection: _imports__WEBPACK_IMPORTED_MODULE_2__.closestCenter,\n                            onDragStart: handleDragStart,\n                            onDragEnd: handleDragEnd,\n                            modifiers: [\n                                _imports__WEBPACK_IMPORTED_MODULE_2__.restrictToWindowEdges\n                            ],\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_imports__WEBPACK_IMPORTED_MODULE_2__.TimeGrid, {\n                                    weekDays: weekDays,\n                                    timeSlots: timeSlots,\n                                    minuteSlots: _imports__WEBPACK_IMPORTED_MODULE_2__.minuteSlots,\n                                    isToday: isToday,\n                                    events: events,\n                                    handleTimeSlotClick: handleTimeSlotClick,\n                                    handleEventClick: handleEventClick,\n                                    handleResizeStart: handleResizeStart\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                                    lineNumber: 701,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_imports__WEBPACK_IMPORTED_MODULE_2__.DragOverlay, {\n                                    modifiers: [\n                                        _imports__WEBPACK_IMPORTED_MODULE_2__.restrictToWindowEdges\n                                    ],\n                                    dropAnimation: _imports__WEBPACK_IMPORTED_MODULE_2__.customDropAnimation,\n                                    zIndex: 1000,\n                                    adjustScale: false,\n                                    children: activeEvent ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_imports__WEBPACK_IMPORTED_MODULE_2__.EventDragOverlay, {\n                                        event: activeEvent\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                                        lineNumber: 718,\n                                        columnNumber: 32\n                                    }, this) : null\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                                    lineNumber: 712,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                            lineNumber: 694,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_imports__WEBPACK_IMPORTED_MODULE_2__.WeekSidebar, {\n                            selectedTab: selectedTab,\n                            setSelectedTab: setSelectedTab,\n                            selectedProjectSubTab: selectedProjectSubTab,\n                            setSelectedProjectSubTab: setSelectedProjectSubTab,\n                            selectedEvent: selectedEvent,\n                            hasChanges: hasChanges,\n                            handleDeleteEvent: handleDeleteEvent,\n                            updateEvent: updateEvent,\n                            employees: employees,\n                            projects: projects,\n                            setSelectedEvent: setSelectedEvent,\n                            currentUser: currentUser,\n                            indirectSubTab: indirectSubTab,\n                            setIndirectSubTab: setIndirectSubTab\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                            lineNumber: 722,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n                    lineNumber: 693,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n            lineNumber: 682,\n            columnNumber: 9\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\week-shiwake\\\\[year]\\\\[week]\\\\page.tsx\",\n        lineNumber: 676,\n        columnNumber: 5\n    }, this);\n}\n_s(WeekShiwakePage, \"kSTx/6lOT0TOgVcI1p4Vneasr1I=\", false, function() {\n    return [\n        _imports__WEBPACK_IMPORTED_MODULE_2__.useParams,\n        _store_uiStore__WEBPACK_IMPORTED_MODULE_3__.useUIStore,\n        _hooks_useResizeEvent__WEBPACK_IMPORTED_MODULE_5__.useResizeEvent,\n        _imports__WEBPACK_IMPORTED_MODULE_2__.useSensors\n    ];\n});\n_c = WeekShiwakePage;\nvar _c;\n$RefreshReg$(_c, \"WeekShiwakePage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvd2Vlay1zaGl3YWtlL1t5ZWFyXS9bd2Vla10vcGFnZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxxREFBcUQ7O0FBRTVCO0FBK0NQO0FBQzBCO0FBQzRCO0FBQ2pCO0FBRXhDLFNBQVNvQzs7SUFDdEIsNkNBQTZDO0lBQzdDLGVBQWU7SUFDZiw2Q0FBNkM7SUFDN0MsTUFBTUMsU0FBU2pDLG1EQUFTQTtJQUN4QixNQUFNa0MsT0FBT0MsT0FBT0MsUUFBUSxDQUFDSCxPQUFPQyxJQUFJLEtBQWUsSUFBSUcsT0FBT0MsV0FBVztJQUM3RSxNQUFNQyxPQUFPSixPQUFPQyxRQUFRLENBQUNILE9BQU9NLElBQUksS0FBZW5CLHVEQUFhQSxDQUFDLElBQUlpQjtJQUV6RSw2Q0FBNkM7SUFDN0MsV0FBVztJQUNYLDZDQUE2QztJQUM3QyxNQUFNLEVBQUVHLFNBQVMsRUFBRUMsT0FBTyxFQUFFLEdBQUdwQixzREFBWUEsQ0FBQ2EsTUFBTUs7SUFDbEQsTUFBTUcsV0FBV3BCLDBEQUFnQkEsQ0FBQ2tCLFdBQVdDO0lBQzdDLE1BQU1FLFlBQVlDLE1BQU1DLElBQUksQ0FBQztRQUFFQyxRQUFRO0lBQUcsR0FBRyxDQUFDQyxHQUFHQyxJQUFNQTtJQUN2RCxNQUFNQyxRQUFRLElBQUlaO0lBQ2xCLE1BQU1hLFVBQVUsQ0FBQ0M7UUFDZixPQUNFQSxLQUFLQyxPQUFPLE9BQU9ILE1BQU1HLE9BQU8sTUFDaENELEtBQUtFLFFBQVEsT0FBT0osTUFBTUksUUFBUSxNQUNsQ0YsS0FBS2IsV0FBVyxPQUFPVyxNQUFNWCxXQUFXO0lBRTVDO0lBRUEsNkNBQTZDO0lBQzdDLE9BQU87SUFDUCw2Q0FBNkM7SUFDN0MsV0FBVztJQUNYLE1BQU0sRUFDSmdCLFdBQVcsRUFDWEMscUJBQXFCLEVBQ3JCQyxjQUFjLEVBQ2RDLFdBQVcsRUFDWEMsUUFBUSxFQUNSQyxjQUFjLEVBQ2RDLHdCQUF3QixFQUN4QkMsaUJBQWlCLEVB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RWxDLDhEQUFDVSw4Q0FBUUE7b0NBQ1B3QixVQUFVQTtvQ0FDVkMsV0FBV0E7b0NBQ1hqQixhQUFhQSxpREFBV0E7b0NBQ3hCd0IsU0FBU0E7b0NBQ1RnQixRQUFRQTtvQ0FDUm1FLHFCQUFxQkE7b0NBQ3JCRCxrQkFBa0JBO29DQUNsQjdDLG1CQUFtQkE7Ozs7Ozs4Q0FHckIsOERBQUNoRixpREFBV0E7b0NBQ1Y4TixXQUFXO3dDQUFDN04sMkRBQXFCQTtxQ0FBQztvQ0FDbEM4TixlQUFlMU0seURBQW1CQTtvQ0FDbEMyTSxRQUFRO29DQUNSQyxhQUFhOzhDQUVaOUosNEJBQWMsOERBQUN2RCxzREFBZ0JBO3dDQUFDbUcsT0FBTzVDOzs7OzsrQ0FBa0I7Ozs7Ozs7Ozs7OztzQ0FJOUQsOERBQUN6RCxpREFBV0E7NEJBQ1ZxQyxhQUFhQTs0QkFDYkssZ0JBQWdCQTs0QkFDaEJKLHVCQUF1QkE7NEJBQ3ZCSywwQkFBMEJBOzRCQUMxQlEsZUFBZUE7NEJBQ2ZRLFlBQVlBOzRCQUNaNEcsbUJBQW1CQTs0QkFDbkJSLGFBQWFBOzRCQUNiMUcsV0FBV0E7NEJBQ1hFLFVBQVVBOzRCQUNWSCxrQkFBa0JBOzRCQUNsQlcsYUFBYUE7NEJBQ2J4QixnQkFBZ0JBOzRCQUNoQkssbUJBQW1CQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPakM7R0FockJ3QjdCOztRQUlQaEMsK0NBQVNBO1FBa0NwQjZCLHNEQUFVQTtRQW1CZ0JFLGlFQUFjQTtRQWlHNUJ6QixnREFBVUE7OztLQTFKSjBCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvd2Vlay1zaGl3YWtlL1t5ZWFyXS9bd2Vla10vcGFnZS50c3g/MWRkZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5cInVzZSBjbGllbnRcIlxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQge1xuICAvLyBSZWFjdFxuICB1c2VTdGF0ZSxcbiAgdXNlRWZmZWN0LFxuICB1c2VSZWYsXG5cbiAgLy8gTmV4dC5qc1xuICB1c2VQYXJhbXMsXG4gIC8vIERuRFxuICBEbmRDb250ZXh0LFxuICBjbG9zZXN0Q2VudGVyLFxuICBLZXlib2FyZFNlbnNvcixcbiAgUG9pbnRlclNlbnNvcixcbiAgdXNlU2Vuc29yLFxuICB1c2VTZW5zb3JzLFxuICBEcmFnT3ZlcmxheSxcbiAgcmVzdHJpY3RUb1dpbmRvd0VkZ2VzLFxuXG4gIC8vIOODh+ODvOOCv+ODmeODvOOCuVxuICBnZXRFbXBsb3llZXMsXG4gIHNhdmVXZWVrQWNoaWV2ZW1lbnRzLFxuICBkZWxldGVBY2hpZXZlbWVudCxcbiAgc2V0V2Vla0RhdGFDaGFuZ2VkLFxuICBoYXNXZWVrRGF0YUNoYW5nZWQsXG4gIHNhdmVXZWVrRGF0YVRvU3RvcmFnZSxcbiAgY2xlYXJXZWVrRGF0YSxcbiAgZ2V0V2Vla0RhdGFGcm9tU3RvcmFnZSxcblxuXG4gIC8vIOOCs+ODs+ODneODvOODjeODs+ODiFxuICBXZWVrU2lkZWJhcixcbiAgVGltZUdyaWQsXG4gIEV2ZW50RHJhZ092ZXJsYXksXG5cbiAgLy8g44Om44O844OG44Kj44Oq44OG44KjXG4gIGdldFdlZWtOdW1iZXIsXG4gIGdldFdlZWtEYXRlcyxcbiAgZ2V0V2Vla0RheXNBcnJheSxcbiAgZm9ybWF0RGF0ZVRpbWVGb3JTdG9yYWdlLFxuICBwYXJzZURhdGVUaW1lLFxuICBGSUZURUVOX01JTl9IRUlHSFQsXG4gIG1pbnV0ZVNsb3RzLFxuICBjcmVhdGVOZXdFdmVudCxcbiAgLy91c2VSZXNpemVFdmVudCxcbiAgRXZlbnRJdGVtLFxuICBjdXN0b21Ecm9wQW5pbWF0aW9uXG59IGZyb20gXCIuL2ltcG9ydHNcIlxuaW1wb3J0IHsgdXNlVUlTdG9yZSB9IGZyb20gXCIuL3N0b3JlL3VpU3RvcmVcIlxuaW1wb3J0IHsgZm9ybWF0RXZlbnRGb3JDbGllbnQgfSBmcm9tIFwiLi91dGlscy9mb3JtYXRFdmVudEZvckNsaWVudFV0aWxzXCJcbmltcG9ydCB7IHVzZVJlc2l6ZUV2ZW50IH0gZnJvbSBcIi4vaG9va3MvdXNlUmVzaXplRXZlbnRcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXZWVrU2hpd2FrZVBhZ2UoKSB7XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyDjg5Hjg6njg6Hjg7zjgr/jgajjg6vjg7zjg4bjgqPjg7PjgrBcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpXG4gIGNvbnN0IHllYXIgPSBOdW1iZXIucGFyc2VJbnQocGFyYW1zLnllYXIgYXMgc3RyaW5nKSB8fCBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKClcbiAgY29uc3Qgd2VlayA9IE51bWJlci5wYXJzZUludChwYXJhbXMud2VlayBhcyBzdHJpbmcpIHx8IGdldFdlZWtOdW1iZXIobmV3IERhdGUoKSlcbiBcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIOaXpeS7mOOBqOaZgumWk+OBruioiOeul1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgeyBzdGFydERhdGUsIGVuZERhdGUgfSA9IGdldFdlZWtEYXRlcyh5ZWFyLCB3ZWVrKVxuICBjb25zdCB3ZWVrRGF5cyA9IGdldFdlZWtEYXlzQXJyYXkoc3RhcnREYXRlLCBlbmREYXRlKVxuICBjb25zdCB0aW1lU2xvdHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyNCB9LCAoXywgaSkgPT4gaSlcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpXG4gIGNvbnN0IGlzVG9kYXkgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICBkYXRlLmdldERhdGUoKSA9PT0gdG9kYXkuZ2V0RGF0ZSgpICYmXG4gICAgICBkYXRlLmdldE1vbnRoKCkgPT09IHRvZGF5LmdldE1vbnRoKCkgJiZcbiAgICAgIGRhdGUuZ2V0RnVsbFllYXIoKSA9PT0gdG9kYXkuZ2V0RnVsbFllYXIoKVxuICAgIClcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyDnirbmhYvnrqHnkIZcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFVJIFN0b3JlXG4gIGNvbnN0IHtcbiAgICBzZWxlY3RlZFRhYixcbiAgICBzZWxlY3RlZFByb2plY3RTdWJUYWIsXG4gICAgaW5kaXJlY3RTdWJUYWIsXG4gICAgc2F2ZU1lc3NhZ2UsXG4gICAgYXBpRXJyb3IsXG4gICAgc2V0U2VsZWN0ZWRUYWIsXG4gICAgc2V0U2VsZWN0ZWRQcm9qZWN0U3ViVGFiLFxuICAgIHNldEluZGlyZWN0U3ViVGFiLFxuICAgIHNldFNhdmVNZXNzYWdlLFxuICAgIHNldEFwaUVycm9yXG4gIH0gPSB1c2VVSVN0b3JlKClcblxuICAvLyDjg63jg7zjgqvjg6vjgrnjg4bjg7zjg4hcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2V2ZW50cywgc2V0RXZlbnRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSlcbiAgY29uc3QgW3NlbGVjdGVkRXZlbnQsIHNldFNlbGVjdGVkRXZlbnRdID0gdXNlU3RhdGU8YW55PihudWxsKVxuICBjb25zdCBbZW1wbG95ZWVzLCBzZXRFbXBsb3llZXNdID0gdXNlU3RhdGU8YW55W10+KFtdKVxuICBjb25zdCBbcHJvamVjdHMsIHNldFByb2plY3RzXSA9IHVzZVN0YXRlPGFueVtdPihbXSlcbiAgY29uc3QgW2FjdGl2ZUV2ZW50LCBzZXRBY3RpdmVFdmVudF0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpXG4gIGNvbnN0IFtoYXNDaGFuZ2VzLCBzZXRIYXNDaGFuZ2VzXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbaXNTYXZpbmcsIHNldElzU2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IFtjdXJyZW50VXNlciwgc2V0Q3VycmVudFVzZXJdID0gdXNlU3RhdGU8eyB1c2VyX2lkOiBzdHJpbmc7IG5hbWU6IHN0cmluZyB9Pih7XG4gICAgdXNlcl9pZDogXCI5OTk5OTlcIixcbiAgICBuYW1lOiBcIuS7rlwiLFxuICB9KVxuICBjb25zdCBbaXNDdHJsUHJlc3NlZCwgc2V0SXNDdHJsUHJlc3NlZF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgcHJldmlvdXNZZWFyV2VlayA9IHVzZVJlZjx7IHllYXI6IG51bWJlcjsgd2VlazogbnVtYmVyIH0+KHsgeWVhciwgd2VlayB9KVxuXG4gIGNvbnN0IHsgaGFuZGxlUmVzaXplU3RhcnQgfSA9IHVzZVJlc2l6ZUV2ZW50KFxuICAgIGV2ZW50cyxcbiAgICBzZXRFdmVudHMsXG4gICAgc2VsZWN0ZWRFdmVudCxcbiAgICBzZXRTZWxlY3RlZEV2ZW50LFxuICAgIHllYXIsXG4gICAgd2Vla1xuICApXG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIOODh+ODvOOCv+iqreOBv+i+vOOBv+mWouaVsFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgY29uc3QgZmV0Y2hDdXJyZW50VXNlciA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzdG9yZWRVc2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyJylcbiAgICBpZiAoIXN0b3JlZFVzZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcign44Om44O844K244O85oOF5aCx44GM6KaL44Gk44GL44KK44G+44Gb44KTJylcbiAgICB9XG5cbiAgICBjb25zdCBwYXJzZWRVc2VyID0gSlNPTi5wYXJzZShzdG9yZWRVc2VyKVxuICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgdXNlcl9pZDogcGFyc2VkVXNlci51c2VyX2lkLFxuICAgICAgbmFtZTogcGFyc2VkVXNlci5uYW1lX2phcGFuZXNlXG4gICAgfVxuICAgIFxuICAgIHNldEN1cnJlbnRVc2VyKHVzZXJEYXRhKVxuICAgIHJldHVybiB1c2VyRGF0YVxuICB9XG5cbiAgY29uc3QgbG9hZFdlZWtEYXRhID0gYXN5bmMgKGZvcmNlUmVmcmVzaCA9IGZhbHNlKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKVxuICAgIHNldEFwaUVycm9yKG51bGwpXG4gICAgdHJ5IHtcbiAgICAgIC8vIOODpuODvOOCtuODvOaDheWgseOBruWPluW+l1xuICAgICAgY29uc3QgdXNlckRhdGEgPSBhd2FpdCBmZXRjaEN1cnJlbnRVc2VyKClcbiAgICAgIFxuICAgICAgLy8g56S+5ZOh44OH44O844K/44Gu5Y+W5b6XXG4gICAgICBjb25zdCBlbXBEYXRhID0gYXdhaXQgZ2V0RW1wbG95ZWVzKClcbiAgICAgIHNldEVtcGxveWVlcyhlbXBEYXRhKVxuICAgICAgXG4gICAgICAvLyDjg5fjg63jgrjjgqfjgq/jg4jjg4fjg7zjgr/jga7lj5blvpdcbiAgICAgIGNvbnN0IGNhY2hlZFByb2plY3RzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyX3Byb2plY3RzJylcbiAgICAgIGlmIChjYWNoZWRQcm9qZWN0cykge1xuICAgICAgICBjb25zdCBwYXJzZWRQcm9qZWN0cyA9IEpTT04ucGFyc2UoY2FjaGVkUHJvamVjdHMpXG4gICAgICAgIHNldFByb2plY3RzKHBhcnNlZFByb2plY3RzKVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyDpgLHjg4fjg7zjgr/jga7lj5blvpdcbiAgICAgIGNvbnN0IGNhY2hlZERhdGEgPSBnZXRXZWVrRGF0YUZyb21TdG9yYWdlKHllYXIsIHdlZWssIHVzZXJEYXRhLnVzZXJfaWQpXG4gICAgICBjb25zdCBoYXNDaGFuZ2VkID0gaGFzV2Vla0RhdGFDaGFuZ2VkKHllYXIsIHdlZWssIHVzZXJEYXRhLnVzZXJfaWQpXG5cbiAgICAgIGlmIChmb3JjZVJlZnJlc2ggfHwgIWNhY2hlZERhdGEgfHwgaGFzQ2hhbmdlZCkge1xuICAgICAgICBjb25zdCBhcGlVcmwgPSBgL2FwaS96aXNzZWtpL3dlZWsvJHt1c2VyRGF0YS51c2VyX2lkfS8ke3llYXJ9LyR7d2Vla31gXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGlVcmwpXG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJ5b+c562U44Ko44Op44O8OiAke3Jlc3BvbnNlLnN0YXR1c30sICR7ZXJyb3JUZXh0fWApXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1lc3NhZ2UgfHwgXCLjg4fjg7zjgr/jga7lj5blvpfjgavlpLHmlZfjgZfjgb7jgZfjgZ9cIilcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBmb3JtYXR0ZWRFdmVudHMgPSBkYXRhLmRhdGEubWFwKChldmVudDogRXZlbnRJdGVtKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0RXZlbnRGb3JDbGllbnQoZXZlbnQpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHNldEV2ZW50cyhmb3JtYXR0ZWRFdmVudHMpXG4gICAgICAgICAgc2F2ZVdlZWtEYXRhVG9TdG9yYWdlKHllYXIsIHdlZWssIHVzZXJEYXRhLnVzZXJfaWQsIGZvcm1hdHRlZEV2ZW50cylcbiAgICAgICAgICBzZXRXZWVrRGF0YUNoYW5nZWQoeWVhciwgd2VlaywgdXNlckRhdGEudXNlcl9pZCwgZmFsc2UpXG4gICAgICAgIH0gY2F0Y2ggKGFwaUVycm9yKSB7XG4gICAgICAgICAgc2V0QXBpRXJyb3IoU3RyaW5nKGFwaUVycm9yKSlcbiAgICAgICAgICBpZiAoY2FjaGVkRGF0YSkge1xuICAgICAgICAgICAgc2V0RXZlbnRzKGNhY2hlZERhdGEpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEV2ZW50cyhbXSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEV2ZW50cyhjYWNoZWREYXRhKVxuICAgICAgfVxuXG4gICAgICBzZXRTZWxlY3RlZEV2ZW50KG51bGwpXG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIHNldEFwaUVycm9yKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSlcbiAgICAgIHNldEV2ZW50cyhbXSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gRG5E6Kit5a6aXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICBjb25zdCBzZW5zb3JzID0gdXNlU2Vuc29ycyhcbiAgICB1c2VTZW5zb3IoUG9pbnRlclNlbnNvciwge1xuICAgICAgYWN0aXZhdGlvbkNvbnN0cmFpbnQ6IHtcbiAgICAgICAgZGlzdGFuY2U6IDUsXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHVzZVNlbnNvcihLZXlib2FyZFNlbnNvciksXG4gIClcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8g44Kk44OZ44Oz44OI44OP44Oz44OJ44OpXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyDpgLHjg4fjg7zjgr/jga7kv53lrZhcbiAgY29uc3QgaGFuZGxlU2F2ZVdlZWtEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghY3VycmVudFVzZXIgfHwgIWN1cnJlbnRVc2VyLnVzZXJfaWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+ODh+ODkOODg+OCsDog5L+d5a2Y5pmC44Gu44Om44O844K244O8SUTjgYzkuI3mraM6JywgY3VycmVudFVzZXIpXG4gICAgICBzZXRTYXZlTWVzc2FnZSh7IHR5cGU6IFwiZXJyb3JcIiwgdGV4dDogXCLjg6bjg7zjgrbjg7zmg4XloLHjgYzmraPjgZfjgY/oqK3lrprjgZXjgozjgabjgYTjgb7jgZvjgpNcIiB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHNldElzU2F2aW5nKHRydWUpXG4gICAgICBjb25zb2xlLmxvZygn44OH44OQ44OD44KwOiDkv53lrZhBUEnlkbzjgbPlh7rjgZfmmYLjga7jg6bjg7zjgrbjg7xJRDonLCBjdXJyZW50VXNlci51c2VyX2lkKVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS96aXNzZWtpL3dlZWsvJHtjdXJyZW50VXNlci51c2VyX2lkfS8ke3llYXJ9LyR7d2Vla31gLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBldmVudHMgfSksXG4gICAgICB9KVxuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCBlcnJvciEgc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICBpZiAoIWRhdGEuc3VjY2Vzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8IFwi44OH44O844K/44Gu5L+d5a2Y44Gr5aSx5pWX44GX44G+44GX44GfXCIpXG4gICAgICB9XG5cbiAgICAgIHNldFNhdmVNZXNzYWdlKHsgdHlwZTogXCJzdWNjZXNzXCIsIHRleHQ6IFwi5L+d5a2Y44GM5a6M5LqG44GX44G+44GX44GfXCIgfSlcbiAgICAgIHNldFdlZWtEYXRhQ2hhbmdlZCh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkLCBmYWxzZSlcbiAgICAgIHNldEhhc0NoYW5nZXMoZmFsc2UpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLkv53lrZjkuK3jgavjgqjjg6njg7zjgYznmbrnlJ/jgZfjgb7jgZfjgZ86XCIsIGVycm9yKVxuICAgICAgc2V0U2F2ZU1lc3NhZ2UoeyB0eXBlOiBcImVycm9yXCIsIHRleHQ6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCLkv53lrZjjgavlpLHmlZfjgZfjgb7jgZfjgZ9cIiB9KVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NhdmluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICAvLyDjgqTjg5njg7Pjg4jjgq/jg6rjg4Pjgq9cbiAgY29uc3QgaGFuZGxlRXZlbnRDbGljayA9IChldmVudDogYW55KSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRFdmVudChldmVudClcbiAgfVxuXG4gIC8vIOOCv+OCpOODoOOCueODreODg+ODiOOCr+ODquODg+OCr1xuICBjb25zdCBoYW5kbGVUaW1lU2xvdENsaWNrID0gKGRheTogRGF0ZSwgaG91cjogbnVtYmVyLCBtaW51dGUgPSAwKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50VXNlciB8fCAhY3VycmVudFVzZXIudXNlcl9pZCkge1xuICAgICAgY29uc29sZS5lcnJvcihcIuODpuODvOOCtuODvOaDheWgseOBjOato+OBl+OBj+ioreWumuOBleOCjOOBpuOBhOOBvuOBm+OCk1wiKVxuICAgICAgYWxlcnQoXCLjg6bjg7zjgrbjg7zmg4XloLHjgYzmraPjgZfjgY/oqK3lrprjgZXjgozjgabjgYTjgb7jgZvjgpPjgILjg63jgrDjgqTjg7PjgZfnm7TjgZfjgabjgY/jgaDjgZXjgYTjgIJcIilcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IG5ld0V2ZW50ID0gY3JlYXRlTmV3RXZlbnQoe1xuICAgICAgZGF5LFxuICAgICAgaG91cixcbiAgICAgIG1pbnV0ZSxcbiAgICAgIHVzZXJfaWQ6IGN1cnJlbnRVc2VyLnVzZXJfaWQsXG4gICAgICBzZWxlY3RlZFRhYixcbiAgICAgIHNlbGVjdGVkUHJvamVjdFN1YlRhYixcbiAgICAgIHByb2plY3RzLFxuICAgIH0pXG5cbiAgICBjb25zdCB1cGRhdGVkRXZlbnRzID0gWy4uLmV2ZW50cywgbmV3RXZlbnRdXG4gICAgc2V0RXZlbnRzKHVwZGF0ZWRFdmVudHMpXG4gICAgc2V0U2VsZWN0ZWRFdmVudChuZXdFdmVudClcblxuICAgIHNhdmVXZWVrRGF0YVRvU3RvcmFnZSh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkLCB1cGRhdGVkRXZlbnRzKVxuICAgIHNldFdlZWtEYXRhQ2hhbmdlZCh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkLCB0cnVlKVxuICB9XG5cbiAgLy8g44OJ44Op44OD44Kw6ZaL5aeLXG4gIGNvbnN0IGhhbmRsZURyYWdTdGFydCA9IChldmVudDogYW55KSA9PiB7XG4gICAgY29uc3QgeyBhY3RpdmUgfSA9IGV2ZW50XG4gICAgY29uc3QgZHJhZ2dlZEV2ZW50ID0gYWN0aXZlLmRhdGEuY3VycmVudC5ldmVudFxuICAgIGNvbnN0IGRyYWdIYW5kbGVPZmZzZXQgPSBhY3RpdmUuZGF0YS5jdXJyZW50LmRyYWdIYW5kbGVPZmZzZXQgfHwgMTZcblxuICAgIHNldEFjdGl2ZUV2ZW50KHtcbiAgICAgIC4uLmRyYWdnZWRFdmVudCxcbiAgICAgIGRyYWdIYW5kbGVPZmZzZXQsXG4gICAgfSlcbiAgfVxuXG4gIC8vIOODieODqeODg+OCsOe1guS6hlxuICBjb25zdCBoYW5kbGVEcmFnRW5kID0gKGV2ZW50OiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZSwgb3ZlciB9ID0gZXZlbnRcbiAgICBzZXRBY3RpdmVFdmVudChudWxsKVxuXG4gICAgaWYgKCFvdmVyKSByZXR1cm5cblxuICAgIGNvbnN0IGRyYWdnZWRFdmVudCA9IGFjdGl2ZS5kYXRhLmN1cnJlbnQuZXZlbnRcbiAgICBjb25zdCB7IGRheSwgaG91ciwgbWludXRlID0gMCB9ID0gb3Zlci5kYXRhLmN1cnJlbnRcbiAgICBjb25zdCBkcmFnSGFuZGxlT2Zmc2V0ID0gYWN0aXZlLmRhdGEuY3VycmVudC5kcmFnSGFuZGxlT2Zmc2V0IHx8IEZJRlRFRU5fTUlOX0hFSUdIVFxuXG4gICAgY29uc3Qgb3JpZ2luYWxTdGFydCA9IHBhcnNlRGF0ZVRpbWUoZHJhZ2dlZEV2ZW50LnN0YXJ0RGF0ZVRpbWUpXG4gICAgY29uc3Qgb3JpZ2luYWxFbmQgPSBwYXJzZURhdGVUaW1lKGRyYWdnZWRFdmVudC5lbmREYXRlVGltZSlcbiAgICBjb25zdCBkdXJhdGlvbiA9IChvcmlnaW5hbEVuZC5nZXRUaW1lKCkgLSBvcmlnaW5hbFN0YXJ0LmdldFRpbWUoKSkgLyA2MDAwMFxuXG4gICAgY29uc3QgbmV3U3RhcnQgPSBuZXcgRGF0ZShkYXkpXG4gICAgbmV3U3RhcnQuc2V0SG91cnMoaG91cilcbiAgICBuZXdTdGFydC5zZXRNaW51dGVzKG1pbnV0ZSlcbiAgICBuZXdTdGFydC5zZXRTZWNvbmRzKDApXG4gICAgbmV3U3RhcnQuc2V0TWlsbGlzZWNvbmRzKDApXG5cbiAgICBjb25zdCBuZXdFbmQgPSBuZXcgRGF0ZShuZXdTdGFydClcbiAgICBuZXdFbmQuc2V0TWludXRlcyhuZXdTdGFydC5nZXRNaW51dGVzKCkgKyBkdXJhdGlvbilcblxuICAgIGNvbnN0IHN0YXJ0RGF0ZVRpbWVTdHIgPSBmb3JtYXREYXRlVGltZUZvclN0b3JhZ2UobmV3U3RhcnQpXG4gICAgY29uc3QgZW5kRGF0ZVRpbWVTdHIgPSBmb3JtYXREYXRlVGltZUZvclN0b3JhZ2UobmV3RW5kKVxuXG4gICAgaWYgKGlzQ3RybFByZXNzZWQpIHtcbiAgICAgIGNvbnN0IHllYXIgPSBuZXdTdGFydC5nZXRGdWxsWWVhcigpXG4gICAgICBjb25zdCBtb250aCA9IChuZXdTdGFydC5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIilcbiAgICAgIGNvbnN0IGRheV9zdHIgPSBuZXdTdGFydC5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIilcbiAgICAgIGNvbnN0IGhvdXJzID0gbmV3U3RhcnQuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKVxuICAgICAgY29uc3QgbWludXRlcyA9IG5ld1N0YXJ0LmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKVxuICAgICAgY29uc3QgbmV3SWQgPSBgJHtkcmFnZ2VkRXZlbnQudXNlcl9pZH1fJHt5ZWFyfSR7bW9udGh9JHtkYXlfc3RyfSR7aG91cnN9JHttaW51dGVzfWBcblxuICAgICAgY29uc3QgY29waWVkRXZlbnQgPSB7XG4gICAgICAgIC4uLmRyYWdnZWRFdmVudCxcbiAgICAgICAgaWQ6IG5ld0lkLFxuICAgICAgICBrZXlJRDogbmV3SWQsXG4gICAgICAgIHN0YXJ0RGF0ZVRpbWU6IHN0YXJ0RGF0ZVRpbWVTdHIsXG4gICAgICAgIGVuZERhdGVUaW1lOiBlbmREYXRlVGltZVN0cixcbiAgICAgICAgdG9wOiBuZXdTdGFydC5nZXRIb3VycygpICogNjQgKyAobmV3U3RhcnQuZ2V0TWludXRlcygpIC8gNjApICogNjQsXG4gICAgICAgIHVuc2F2ZWQ6IHRydWUsXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRFdmVudHMgPSBbLi4uZXZlbnRzLCBjb3BpZWRFdmVudF1cbiAgICAgIHNldEV2ZW50cyh1cGRhdGVkRXZlbnRzKVxuXG4gICAgICBzYXZlV2Vla0RhdGFUb1N0b3JhZ2UoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCwgdXBkYXRlZEV2ZW50cylcbiAgICAgIHNldFdlZWtEYXRhQ2hhbmdlZCh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkLCB0cnVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB1cGRhdGVkRXZlbnRzID0gZXZlbnRzLm1hcCgoZSkgPT4ge1xuICAgICAgICBpZiAoZS5pZCA9PT0gZHJhZ2dlZEV2ZW50LmlkKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmUsXG4gICAgICAgICAgICBzdGFydERhdGVUaW1lOiBzdGFydERhdGVUaW1lU3RyLFxuICAgICAgICAgICAgZW5kRGF0ZVRpbWU6IGVuZERhdGVUaW1lU3RyLFxuICAgICAgICAgICAgdG9wOiBuZXdTdGFydC5nZXRIb3VycygpICogNjQgKyAobmV3U3RhcnQuZ2V0TWludXRlcygpIC8gNjApICogNjQsXG4gICAgICAgICAgICB1bnNhdmVkOiB0cnVlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZVxuICAgICAgfSlcblxuICAgICAgc2V0RXZlbnRzKHVwZGF0ZWRFdmVudHMpXG4gICAgICBzYXZlV2Vla0RhdGFUb1N0b3JhZ2UoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCwgdXBkYXRlZEV2ZW50cylcbiAgICAgIHNldFdlZWtEYXRhQ2hhbmdlZCh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkLCB0cnVlKVxuXG4gICAgICBpZiAoc2VsZWN0ZWRFdmVudCAmJiBzZWxlY3RlZEV2ZW50LmlkID09PSBkcmFnZ2VkRXZlbnQuaWQpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRFdmVudCh7XG4gICAgICAgICAgLi4uc2VsZWN0ZWRFdmVudCxcbiAgICAgICAgICBzdGFydERhdGVUaW1lOiBzdGFydERhdGVUaW1lU3RyLFxuICAgICAgICAgIGVuZERhdGVUaW1lOiBlbmREYXRlVGltZVN0cixcbiAgICAgICAgICB0b3A6IG5ld1N0YXJ0LmdldEhvdXJzKCkgKiA2NCArIChuZXdTdGFydC5nZXRNaW51dGVzKCkgLyA2MCkgKiA2NCxcbiAgICAgICAgICB1bnNhdmVkOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIOOCpOODmeODs+ODiOabtOaWsFxuICBjb25zdCB1cGRhdGVFdmVudCA9ICh1cGRhdGVkRXZlbnQ6IGFueSkgPT4ge1xuICAgIGxldCB1cGRhdGVkQ29sb3IgPSB1cGRhdGVkRXZlbnQuY29sb3JcbiAgICBpZiAodXBkYXRlZEV2ZW50LnByb2plY3QgJiYgdXBkYXRlZEV2ZW50LnByb2plY3QgIT09IHNlbGVjdGVkRXZlbnQ/LnByb2plY3QpIHtcbiAgICAgIGNvbnN0IGxhc3REaWdpdCA9IHVwZGF0ZWRFdmVudC5wcm9qZWN0LnNsaWNlKC0xKVxuICAgICAgY29uc3QgcHJvamVjdENvbG9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgXCIwXCI6IFwiIzM3ODhkOFwiLFxuICAgICAgICBcIjFcIjogXCIjNDNhMDQ3XCIsXG4gICAgICAgIFwiMlwiOiBcIiM4ZTI0YWFcIixcbiAgICAgICAgXCIzXCI6IFwiI2U2N2M3M1wiLFxuICAgICAgICBcIjRcIjogXCIjZjZiZjI2XCIsXG4gICAgICAgIFwiNVwiOiBcIiMwMDk3YTdcIixcbiAgICAgICAgXCI2XCI6IFwiI2ZmOTgwMFwiLFxuICAgICAgICBcIjdcIjogXCIjNzk1NTQ4XCIsXG4gICAgICAgIFwiOFwiOiBcIiM2MDdkOGJcIixcbiAgICAgICAgXCI5XCI6IFwiI2Q4MWI2MFwiLFxuICAgICAgfVxuXG4gICAgICB1cGRhdGVkQ29sb3IgPSBsYXN0RGlnaXQgPyAocHJvamVjdENvbG9yc1tsYXN0RGlnaXRdIHx8IFwiIzM3ODhkOFwiKSA6IFwiIzM3ODhkOFwiXG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlZEV2ZW50cyA9IGV2ZW50cy5tYXAoKGUpID0+IHtcbiAgICAgIGlmIChlLmlkID09PSB1cGRhdGVkRXZlbnQuaWQpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4udXBkYXRlZEV2ZW50LCBjb2xvcjogdXBkYXRlZENvbG9yLCB1bnNhdmVkOiB0cnVlIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlXG4gICAgfSlcbiAgICBzZXRFdmVudHModXBkYXRlZEV2ZW50cylcbiAgICBzZXRTZWxlY3RlZEV2ZW50KHsgLi4udXBkYXRlZEV2ZW50LCBjb2xvcjogdXBkYXRlZENvbG9yIH0pXG4gICAgc2F2ZVdlZWtEYXRhVG9TdG9yYWdlKHllYXIsIHdlZWssIGN1cnJlbnRVc2VyLnVzZXJfaWQsIHVwZGF0ZWRFdmVudHMpXG4gICAgc2V0V2Vla0RhdGFDaGFuZ2VkKHllYXIsIHdlZWssIGN1cnJlbnRVc2VyLnVzZXJfaWQsIHRydWUpXG4gIH1cblxuICAvLyDjgqTjg5njg7Pjg4jliYrpmaRcbiAgY29uc3QgaGFuZGxlRGVsZXRlRXZlbnQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZEV2ZW50KSByZXR1cm5cbiAgICB0cnkge1xuICAgICAgaWYgKGNvbmZpcm0oXCLjgZPjga7jgqTjg5njg7Pjg4jjgpLliYrpmaTjgZfjgabjgoLjgojjgo3jgZfjgYTjgafjgZnjgYvvvJ9cIikpIHtcbiAgICAgICAgaWYgKGhhc1dlZWtEYXRhQ2hhbmdlZCh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBzYXZlV2Vla0FjaGlldmVtZW50cyh5ZWFyLCB3ZWVrLCBldmVudHMpXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICghY29uZmlybShcIuWkieabtOOBruS/neWtmOOBq+WkseaVl+OBl+OBvuOBl+OBn+OAguOBneOCjOOBp+OCguWJiumZpOOCkue2muOBkeOBvuOBmeOBi++8n1wiKSkge1xuICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNlbGVjdGVkRXZlbnQuaWQuc3RhcnRzV2l0aChcIm5ldy1cIikpIHtcbiAgICAgICAgICBhd2FpdCBkZWxldGVBY2hpZXZlbWVudChzZWxlY3RlZEV2ZW50LmlkKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRFdmVudHMgPSBldmVudHMuZmlsdGVyKChlKSA9PiBlLmlkICE9PSBzZWxlY3RlZEV2ZW50LmlkKVxuICAgICAgICBzZXRFdmVudHModXBkYXRlZEV2ZW50cylcbiAgICAgICAgc2V0U2VsZWN0ZWRFdmVudChudWxsKVxuICAgICAgICBzYXZlV2Vla0RhdGFUb1N0b3JhZ2UoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCwgdXBkYXRlZEV2ZW50cylcbiAgICAgICAgc2V0V2Vla0RhdGFDaGFuZ2VkKHllYXIsIHdlZWssIGN1cnJlbnRVc2VyLnVzZXJfaWQsIHRydWUpXG4gICAgICAgIGFsZXJ0KFwi44Kk44OZ44Oz44OI44GM5YmK6Zmk44GV44KM44G+44GX44GfXCIpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIGFsZXJ0KGDliYrpmaTjgqjjg6njg7w6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApXG4gICAgfVxuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIOOCqOODleOCp+OCr+ODiFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gQ3RybOOCreODvOOBruebo+imllxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIkNvbnRyb2xcIikge1xuICAgICAgICBzZXRJc0N0cmxQcmVzc2VkKHRydWUpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlS2V5VXAgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKGUua2V5ID09PSBcIkNvbnRyb2xcIikge1xuICAgICAgICBzZXRJc0N0cmxQcmVzc2VkKGZhbHNlKVxuICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlEb3duKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5VXApXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleURvd24pXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGhhbmRsZUtleVVwKVxuICAgIH1cbiAgfSwgW10pXG5cbiAgLy8g44OH44OV44Kp44Or44OI44Kk44OZ44Oz44OI44Gu6Kit5a6aXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsb2FkaW5nICYmIGV2ZW50cy5sZW5ndGggPT09IDAgJiYgIXNlbGVjdGVkRXZlbnQpIHtcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxuICAgICAgY29uc3QgZGVmYXVsdEhvdXIgPSA5XG4gICAgICBcbiAgICAgIGNvbnN0IGRlZmF1bHRFdmVudCA9IGNyZWF0ZU5ld0V2ZW50KHtcbiAgICAgICAgZGF5OiB3ZWVrRGF5c1swXSxcbiAgICAgICAgaG91cjogZGVmYXVsdEhvdXIsXG4gICAgICAgIG1pbnV0ZTogMCxcbiAgICAgICAgdXNlcl9pZDogY3VycmVudFVzZXIudXNlcl9pZCxcbiAgICAgICAgc2VsZWN0ZWRUYWIsXG4gICAgICAgIHNlbGVjdGVkUHJvamVjdFN1YlRhYixcbiAgICAgICAgcHJvamVjdHMsXG4gICAgICB9KVxuICAgICAgXG4gICAgICBzZXRTZWxlY3RlZEV2ZW50KHtcbiAgICAgICAgLi4uZGVmYXVsdEV2ZW50LFxuICAgICAgICBpc0RlZmF1bHQ6IHRydWVcbiAgICAgIH0pXG4gICAgfVxuICB9LCBbbG9hZGluZywgZXZlbnRzLCBzZWxlY3RlZEV2ZW50LCB3ZWVrRGF5cywgY3VycmVudFVzZXIsIHNlbGVjdGVkVGFiLCBzZWxlY3RlZFByb2plY3RTdWJUYWIsIHByb2plY3RzXSlcblxuICAvLyDpgLHlpInmm7TmmYLjga7lh6bnkIZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVXZWVrQ2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcHJldlllYXIgPSBwcmV2aW91c1llYXJXZWVrLmN1cnJlbnQueWVhclxuICAgICAgY29uc3QgcHJldldlZWsgPSBwcmV2aW91c1llYXJXZWVrLmN1cnJlbnQud2Vla1xuICAgICAgaWYgKHByZXZZZWFyICE9PSB5ZWFyIHx8IHByZXZXZWVrICE9PSB3ZWVrKSB7XG4gICAgICAgIGlmIChoYXNXZWVrRGF0YUNoYW5nZWQocHJldlllYXIsIHByZXZXZWVrLCBjdXJyZW50VXNlci51c2VyX2lkKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2V2Vla0V2ZW50cyA9IGV2ZW50c1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkU2F2ZSA9IGNvbmZpcm0oYCR7cHJldlllYXJ95bm056ysJHtwcmV2V2Vla33pgLHjga7jg4fjg7zjgr/jgavmnKrkv53lrZjjga7lpInmm7TjgYzjgYLjgorjgb7jgZnjgILkv53lrZjjgZfjgb7jgZnjgYvvvJ9gKVxuXG4gICAgICAgICAgICBpZiAoc2hvdWxkU2F2ZSkge1xuICAgICAgICAgICAgICBzZXRJc1NhdmluZyh0cnVlKVxuICAgICAgICAgICAgICBhd2FpdCBzYXZlV2Vla0FjaGlldmVtZW50cyhwcmV2WWVhciwgcHJldldlZWssIHByZXZXZWVrRXZlbnRzKVxuICAgICAgICAgICAgICBzZXRTYXZlTWVzc2FnZSh7IHR5cGU6IFwic3VjY2Vzc1wiLCB0ZXh0OiBgJHtwcmV2WWVhcn3lubTnrKwke3ByZXZXZWVrfemAseOBruODh+ODvOOCv+OCkuS/neWtmOOBl+OBvuOBl+OBn2AgfSlcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTYXZlTWVzc2FnZShudWxsKSwgNTAwMClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNsZWFyV2Vla0RhdGEocHJldlllYXIsIHByZXZXZWVrKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5YmN44Gu6YCx44Gu44OH44O844K/5L+d5a2Y5Lit44Gr44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfOlwiLCBlcnJvcilcbiAgICAgICAgICAgIHNldFNhdmVNZXNzYWdlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICB0ZXh0OiBg5L+d5a2Y44Ko44Op44O8OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2F2ZU1lc3NhZ2UobnVsbCksIDUwMDApXG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU2F2aW5nKGZhbHNlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJldmlvdXNZZWFyV2Vlay5jdXJyZW50ID0geyB5ZWFyLCB3ZWVrIH1cbiAgICAgIGF3YWl0IGxvYWRXZWVrRGF0YSh0cnVlKVxuICAgIH1cblxuICAgIGhhbmRsZVdlZWtDaGFuZ2UoKVxuICB9LCBbeWVhciwgd2Vla10pXG5cbiAgLy8g5aSJ5pu044OV44Op44Kw44Gu55uj6KaWXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tDaGFuZ2VzID0gKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlZCA9IGhhc1dlZWtEYXRhQ2hhbmdlZCh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkKVxuICAgICAgc2V0SGFzQ2hhbmdlcyhjaGFuZ2VkKVxuICAgIH1cblxuICAgIGNoZWNrQ2hhbmdlcygpXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChjaGVja0NoYW5nZXMsIDEwMDApXG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXG4gIH0sIFt5ZWFyLCB3ZWVrXSlcblxuICAvLyDjg5rjg7zjgrjpm6LohLHmmYLjga7lh6bnkIZcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVCZWZvcmVVbmxvYWQgPSAoZTogQmVmb3JlVW5sb2FkRXZlbnQpID0+IHtcbiAgICAgIGlmIChoYXNXZWVrRGF0YUNoYW5nZWQoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzYXZlV2Vla0RhdGFUb1N0b3JhZ2UoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCwgZXZlbnRzKVxuICAgICAgICAgIHNldFdlZWtEYXRhQ2hhbmdlZCh5ZWFyLCB3ZWVrLCBjdXJyZW50VXNlci51c2VyX2lkLCB0cnVlKVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLpm6LohLHmmYLjga7oh6rli5Xkv53lrZjlh6bnkIbkuK3jgavjgqjjg6njg7zjgYznmbrnlJ/jgZfjgb7jgZfjgZ86XCIsIGVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSBcIuWkieabtOOBjOS/neWtmOOBleOCjOOBpuOBhOOBvuOBm+OCk+OAguOBk+OBruODmuODvOOCuOOCkumbouOCjOOBvuOBmeOBi++8n1wiXG4gICAgICAgIHJldHVybiBlLnJldHVyblZhbHVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlUm91dGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICBpZiAoaGFzV2Vla0RhdGFDaGFuZ2VkKHllYXIsIHdlZWssIGN1cnJlbnRVc2VyLnVzZXJfaWQpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCLjg5rjg7zjgrjnp7vli5XmmYLjgavoh6rli5Xkv53lrZjjgZfjgb7jgZlcIilcbiAgICAgICAgICBzYXZlV2Vla0RhdGFUb1N0b3JhZ2UoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCwgZXZlbnRzKVxuICAgICAgICAgIGhhbmRsZVNhdmVXZWVrRGF0YSgpXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuODmuODvOOCuOenu+WLleaZguOBruiHquWLleS/neWtmOWHpueQhuS4reOBq+OCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBnzpcIiwgZXJyb3IpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBoYW5kbGVCZWZvcmVVbmxvYWQpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBoYW5kbGVSb3V0ZUNoYW5nZSlcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBoYW5kbGVCZWZvcmVVbmxvYWQpXG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsIGhhbmRsZVJvdXRlQ2hhbmdlKVxuICAgIH1cbiAgfSwgW3llYXIsIHdlZWssIGV2ZW50c10pXG5cbiAgLy8g6YCx44Gu56e75YuVXG4gIGNvbnN0IG1vdmVUb1dlZWsgPSBhc3luYyAobmV3WWVhcjogbnVtYmVyLCBuZXdXZWVrOiBudW1iZXIpID0+IHtcbiAgICBpZiAoaGFzV2Vla0RhdGFDaGFuZ2VkKHllYXIsIHdlZWssIGN1cnJlbnRVc2VyLnVzZXJfaWQpKSB7XG4gICAgICBjb25zdCBzaG91bGRTYXZlID0gY29uZmlybShgJHt5ZWFyfeW5tOesrCR7d2Vla33pgLHjga7jg4fjg7zjgr/jgavmnKrkv53lrZjjga7lpInmm7TjgYzjgYLjgorjgb7jgZnjgILkv53lrZjjgZfjgb7jgZnjgYvvvJ9gKVxuICAgICAgaWYgKHNob3VsZFNhdmUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZXRJc1NhdmluZyh0cnVlKVxuICAgICAgICAgIGF3YWl0IHNhdmVXZWVrQWNoaWV2ZW1lbnRzKHllYXIsIHdlZWssIGV2ZW50cylcbiAgICAgICAgICBzZXRTYXZlTWVzc2FnZSh7IHR5cGU6IFwic3VjY2Vzc1wiLCB0ZXh0OiBgJHt5ZWFyfeW5tOesrCR7d2Vla33pgLHjga7jg4fjg7zjgr/jgpLkv53lrZjjgZfjgb7jgZfjgZ9gIH0pXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTYXZlTWVzc2FnZShudWxsKSwgNTAwMClcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5L+d5a2Y5Lit44Gr44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfOlwiLCBlcnJvcilcbiAgICAgICAgICBzZXRTYXZlTWVzc2FnZSh7XG4gICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICB0ZXh0OiBg5L+d5a2Y44Ko44Op44O8OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gLFxuICAgICAgICAgIH0pXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTYXZlTWVzc2FnZShudWxsKSwgNTAwMClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1NhdmluZyhmYWxzZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvd2Vlay1zaGl3YWtlLyR7bmV3WWVhcn0vJHtuZXdXZWVrfWBcbiAgfVxuXG4gIC8vIOS/neWtmOWHpueQhlxuICBjb25zdCBzYXZlV2Vla0RhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFoYXNXZWVrRGF0YUNoYW5nZWQoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCkpIHtcbiAgICAgIHNldFNhdmVNZXNzYWdlKHsgdHlwZTogXCJpbmZvXCIsIHRleHQ6IFwi5L+d5a2Y44GZ44KL5aSJ5pu044GM44GC44KK44G+44Gb44KTXCIgfSlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2F2ZU1lc3NhZ2UobnVsbCksIDMwMDApXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgc2V0SXNTYXZpbmcodHJ1ZSlcbiAgICAgIGF3YWl0IHNhdmVXZWVrQWNoaWV2ZW1lbnRzKHllYXIsIHdlZWssIGV2ZW50cylcbiAgICAgIHNldFNhdmVNZXNzYWdlKHsgdHlwZTogXCJzdWNjZXNzXCIsIHRleHQ6IFwi5L+d5a2Y44GM5a6M5LqG44GX44G+44GX44GfXCIgfSlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0U2F2ZU1lc3NhZ2UobnVsbCksIDMwMDApXG4gICAgICBzZXRXZWVrRGF0YUNoYW5nZWQoeWVhciwgd2VlaywgY3VycmVudFVzZXIudXNlcl9pZCwgZmFsc2UpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLkv53lrZjkuK3jgavjgqjjg6njg7zjgYznmbrnlJ/jgZfjgb7jgZfjgZ86XCIsIGVycm9yKVxuICAgICAgc2V0U2F2ZU1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIHRleHQ6IGDkv53lrZjjgqjjg6njg7w6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWAsXG4gICAgICB9KVxuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRTYXZlTWVzc2FnZShudWxsKSwgNTAwMClcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTYXZpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgLy8g44Kr44K544K/44Og44Kk44OZ44Oz44OI44Oq44K544OK44O8XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUmVmcmVzaCA9ICgpID0+IHtcbiAgICAgIGxvYWRXZWVrRGF0YSh0cnVlKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVNhdmUgPSAoKSA9PiB7XG4gICAgICBzYXZlV2Vla0RhdGEoKVxuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZVdlZWtDaGFuZ2UgPSAoZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB7IG5ld1llYXIsIG5ld1dlZWsgfSA9IGV2ZW50LmRldGFpbFxuICAgICAgbW92ZVRvV2VlayhuZXdZZWFyLCBuZXdXZWVrKVxuICAgIH1cblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwid2Vlay1yZWZyZXNoXCIsIGhhbmRsZVJlZnJlc2gpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWVrLXNhdmVcIiwgaGFuZGxlU2F2ZSlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIndlZWstY2hhbmdlXCIsIGhhbmRsZVdlZWtDaGFuZ2UgYXMgRXZlbnRMaXN0ZW5lcilcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlZWstcmVmcmVzaFwiLCBoYW5kbGVSZWZyZXNoKVxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWVrLXNhdmVcIiwgaGFuZGxlU2F2ZSlcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Vlay1jaGFuZ2VcIiwgaGFuZGxlV2Vla0NoYW5nZSBhcyBFdmVudExpc3RlbmVyKVxuICAgIH1cbiAgfSwgW2V2ZW50cywgeWVhciwgd2Vla10pXG5cbiAgLy8g5L+d5a2Y44Oh44OD44K744O844K444Gu6YCa55+lXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNhdmVNZXNzYWdlKSB7XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFwid2Vlay1zYXZlLW1lc3NhZ2VcIiwge1xuICAgICAgICAgIGRldGFpbDogc2F2ZU1lc3NhZ2UsXG4gICAgICAgIH0pLFxuICAgICAgKVxuICAgIH1cbiAgfSwgW3NhdmVNZXNzYWdlXSlcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8g44Os44Oz44OA44Oq44Oz44KwXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XG4gICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLTY0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNTAwXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAge2FwaUVycm9yICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTEwMCBib3JkZXIgYm9yZGVyLXJlZC00MDAgdGV4dC1yZWQtNzAwIHB4LTQgcHktMyByb3VuZGVkIG1iLTRcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+QVBJ44Ko44Op44O844GM55m655Sf44GX44G+44GX44GfPC9wPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+e2FwaUVycm9yfTwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBtdC0yXCI+XG4gICAgICAgICAgICAgICAg44Ot44O844Kr44Or44Kt44Oj44OD44K344Ol44GL44KJ44OH44O844K/44KS6KGo56S644GX44Gm44GE44G+44GZ44CC5pyA5paw44Gu44OH44O844K/44Gn44Gv44Gq44GE5Y+v6IO95oCn44GM44GC44KK44G+44GZ44CCXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXhcIj5cbiAgICAgICAgICAgIDxEbmRDb250ZXh0XG4gICAgICAgICAgICAgIHNlbnNvcnM9e3NlbnNvcnN9XG4gICAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGlvbj17Y2xvc2VzdENlbnRlcn1cbiAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9e2hhbmRsZURyYWdTdGFydH1cbiAgICAgICAgICAgICAgb25EcmFnRW5kPXtoYW5kbGVEcmFnRW5kfVxuICAgICAgICAgICAgICBtb2RpZmllcnM9e1tyZXN0cmljdFRvV2luZG93RWRnZXNdfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8VGltZUdyaWRcbiAgICAgICAgICAgICAgICB3ZWVrRGF5cz17d2Vla0RheXN9XG4gICAgICAgICAgICAgICAgdGltZVNsb3RzPXt0aW1lU2xvdHN9XG4gICAgICAgICAgICAgICAgbWludXRlU2xvdHM9e21pbnV0ZVNsb3RzfVxuICAgICAgICAgICAgICAgIGlzVG9kYXk9e2lzVG9kYXl9XG4gICAgICAgICAgICAgICAgZXZlbnRzPXtldmVudHN9XG4gICAgICAgICAgICAgICAgaGFuZGxlVGltZVNsb3RDbGljaz17aGFuZGxlVGltZVNsb3RDbGlja31cbiAgICAgICAgICAgICAgICBoYW5kbGVFdmVudENsaWNrPXtoYW5kbGVFdmVudENsaWNrfVxuICAgICAgICAgICAgICAgIGhhbmRsZVJlc2l6ZVN0YXJ0PXtoYW5kbGVSZXNpemVTdGFydH1cbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8RHJhZ092ZXJsYXlcbiAgICAgICAgICAgICAgICBtb2RpZmllcnM9e1tyZXN0cmljdFRvV2luZG93RWRnZXNdfVxuICAgICAgICAgICAgICAgIGRyb3BBbmltYXRpb249e2N1c3RvbURyb3BBbmltYXRpb259XG4gICAgICAgICAgICAgICAgekluZGV4PXsxMDAwfVxuICAgICAgICAgICAgICAgIGFkanVzdFNjYWxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHthY3RpdmVFdmVudCA/IDxFdmVudERyYWdPdmVybGF5IGV2ZW50PXthY3RpdmVFdmVudH0gLz4gOiBudWxsfVxuICAgICAgICAgICAgICA8L0RyYWdPdmVybGF5PlxuICAgICAgICAgICAgPC9EbmRDb250ZXh0PlxuXG4gICAgICAgICAgICA8V2Vla1NpZGViYXJcbiAgICAgICAgICAgICAgc2VsZWN0ZWRUYWI9e3NlbGVjdGVkVGFifVxuICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRhYj17c2V0U2VsZWN0ZWRUYWJ9XG4gICAgICAgICAgICAgIHNlbGVjdGVkUHJvamVjdFN1YlRhYj17c2VsZWN0ZWRQcm9qZWN0U3ViVGFifVxuICAgICAgICAgICAgICBzZXRTZWxlY3RlZFByb2plY3RTdWJUYWI9e3NldFNlbGVjdGVkUHJvamVjdFN1YlRhYn1cbiAgICAgICAgICAgICAgc2VsZWN0ZWRFdmVudD17c2VsZWN0ZWRFdmVudH1cbiAgICAgICAgICAgICAgaGFzQ2hhbmdlcz17aGFzQ2hhbmdlc31cbiAgICAgICAgICAgICAgaGFuZGxlRGVsZXRlRXZlbnQ9e2hhbmRsZURlbGV0ZUV2ZW50fVxuICAgICAgICAgICAgICB1cGRhdGVFdmVudD17dXBkYXRlRXZlbnR9XG4gICAgICAgICAgICAgIGVtcGxveWVlcz17ZW1wbG95ZWVzfVxuICAgICAgICAgICAgICBwcm9qZWN0cz17cHJvamVjdHN9XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkRXZlbnQ9e3NldFNlbGVjdGVkRXZlbnR9XG4gICAgICAgICAgICAgIGN1cnJlbnRVc2VyPXtjdXJyZW50VXNlcn1cbiAgICAgICAgICAgICAgaW5kaXJlY3RTdWJUYWI9e2luZGlyZWN0U3ViVGFifVxuICAgICAgICAgICAgICBzZXRJbmRpcmVjdFN1YlRhYj17c2V0SW5kaXJlY3RTdWJUYWJ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUGFyYW1zIiwiRG5kQ29udGV4dCIsImNsb3Nlc3RDZW50ZXIiLCJLZXlib2FyZFNlbnNvciIsIlBvaW50ZXJTZW5zb3IiLCJ1c2VTZW5zb3IiLCJ1c2VTZW5zb3JzIiwiRHJhZ092ZXJsYXkiLCJyZXN0cmljdFRvV2luZG93RWRnZXMiLCJnZXRFbXBsb3llZXMiLCJzYXZlV2Vla0FjaGlldmVtZW50cyIsImRlbGV0ZUFjaGlldmVtZW50Iiwic2V0V2Vla0RhdGFDaGFuZ2VkIiwiaGFzV2Vla0RhdGFDaGFuZ2VkIiwic2F2ZVdlZWtEYXRhVG9TdG9yYWdlIiwiY2xlYXJXZWVrRGF0YSIsImdldFdlZWtEYXRhRnJvbVN0b3JhZ2UiLCJXZWVrU2lkZWJhciIsIlRpbWVHcmlkIiwiRXZlbnREcmFnT3ZlcmxheSIsImdldFdlZWtOdW1iZXIiLCJnZXRXZWVrRGF0ZXMiLCJnZXRXZWVrRGF5c0FycmF5IiwiZm9ybWF0RGF0ZVRpbWVGb3JTdG9yYWdlIiwicGFyc2VEYXRlVGltZSIsIkZJRlRFRU5fTUlOX0hFSUdIVCIsIm1pbnV0ZVNsb3RzIiwiY3JlYXRlTmV3RXZlbnQiLCJjdXN0b21Ecm9wQW5pbWF0aW9uIiwidXNlVUlTdG9yZSIsImZvcm1hdEV2ZW50Rm9yQ2xpZW50IiwidXNlUmVzaXplRXZlbnQiLCJXZWVrU2hpd2FrZVBhZ2UiLCJwYXJhbXMiLCJ5ZWFyIiwiTnVtYmVyIiwicGFyc2VJbnQiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJ3ZWVrIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsIndlZWtEYXlzIiwidGltZVNsb3RzIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImkiLCJ0b2RheSIsImlzVG9kYXkiLCJkYXRlIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwic2VsZWN0ZWRUYWIiLCJzZWxlY3RlZFByb2plY3RTdWJUYWIiLCJpbmRpcmVjdFN1YlRhYiIsInNhdmVNZXNzYWdlIiwiYXBpRXJyb3IiLCJzZXRTZWxlY3RlZFRhYiIsInNldFNlbGVjdGVkUHJvamVjdFN1YlRhYiIsInNldEluZGlyZWN0U3ViVGFiIiwic2V0U2F2ZU1lc3NhZ2UiLCJzZXRBcGlFcnJvciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXZlbnRzIiwic2V0RXZlbnRzIiwic2VsZWN0ZWRFdmVudCIsInNldFNlbGVjdGVkRXZlbnQiLCJlbXBsb3llZXMiLCJzZXRFbXBsb3llZXMiLCJwcm9qZWN0cyIsInNldFByb2plY3RzIiwiYWN0aXZlRXZlbnQiLCJzZXRBY3RpdmVFdmVudCIsImhhc0NoYW5nZXMiLCJzZXRIYXNDaGFuZ2VzIiwiaXNTYXZpbmciLCJzZXRJc1NhdmluZyIsImN1cnJlbnRVc2VyIiwic2V0Q3VycmVudFVzZXIiLCJ1c2VyX2lkIiwibmFtZSIsImlzQ3RybFByZXNzZWQiLCJzZXRJc0N0cmxQcmVzc2VkIiwicHJldmlvdXNZZWFyV2VlayIsImhhbmRsZVJlc2l6ZVN0YXJ0IiwiZmV0Y2hDdXJyZW50VXNlciIsInN0b3JlZFVzZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiRXJyb3IiLCJwYXJzZWRVc2VyIiwiSlNPTiIsInBhcnNlIiwidXNlckRhdGEiLCJuYW1lX2phcGFuZXNlIiwibG9hZFdlZWtEYXRhIiwiZm9yY2VSZWZyZXNoIiwiZW1wRGF0YSIsImNhY2hlZFByb2plY3RzIiwicGFyc2VkUHJvamVjdHMiLCJjYWNoZWREYXRhIiwiaGFzQ2hhbmdlZCIsImFwaVVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImVycm9yVGV4dCIsInRleHQiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZm9ybWF0dGVkRXZlbnRzIiwibWFwIiwiZXZlbnQiLCJTdHJpbmciLCJlcnJvciIsInNlbnNvcnMiLCJhY3RpdmF0aW9uQ29uc3RyYWludCIsImRpc3RhbmNlIiwiaGFuZGxlU2F2ZVdlZWtEYXRhIiwiY29uc29sZSIsInR5cGUiLCJsb2ciLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInN0cmluZ2lmeSIsImhhbmRsZUV2ZW50Q2xpY2siLCJoYW5kbGVUaW1lU2xvdENsaWNrIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImFsZXJ0IiwibmV3RXZlbnQiLCJ1cGRhdGVkRXZlbnRzIiwiaGFuZGxlRHJhZ1N0YXJ0IiwiYWN0aXZlIiwiZHJhZ2dlZEV2ZW50IiwiY3VycmVudCIsImRyYWdIYW5kbGVPZmZzZXQiLCJoYW5kbGVEcmFnRW5kIiwib3ZlciIsIm9yaWdpbmFsU3RhcnQiLCJzdGFydERhdGVUaW1lIiwib3JpZ2luYWxFbmQiLCJlbmREYXRlVGltZSIsImR1cmF0aW9uIiwiZ2V0VGltZSIsIm5ld1N0YXJ0Iiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsInNldE1pbGxpc2Vjb25kcyIsIm5ld0VuZCIsImdldE1pbnV0ZXMiLCJzdGFydERhdGVUaW1lU3RyIiwiZW5kRGF0ZVRpbWVTdHIiLCJtb250aCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJkYXlfc3RyIiwiaG91cnMiLCJnZXRIb3VycyIsIm1pbnV0ZXMiLCJuZXdJZCIsImNvcGllZEV2ZW50IiwiaWQiLCJrZXlJRCIsInRvcCIsInVuc2F2ZWQiLCJlIiwidXBkYXRlRXZlbnQiLCJ1cGRhdGVkRXZlbnQiLCJ1cGRhdGVkQ29sb3IiLCJjb2xvciIsInByb2plY3QiLCJsYXN0RGlnaXQiLCJzbGljZSIsInByb2plY3RDb2xvcnMiLCJoYW5kbGVEZWxldGVFdmVudCIsImNvbmZpcm0iLCJzdGFydHNXaXRoIiwiZmlsdGVyIiwiaGFuZGxlS2V5RG93biIsImtleSIsImhhbmRsZUtleVVwIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZWZhdWx0SG91ciIsImRlZmF1bHRFdmVudCIsImlzRGVmYXVsdCIsImhhbmRsZVdlZWtDaGFuZ2UiLCJwcmV2WWVhciIsInByZXZXZWVrIiwicHJldldlZWtFdmVudHMiLCJzaG91bGRTYXZlIiwic2V0VGltZW91dCIsImNoZWNrQ2hhbmdlcyIsImNoYW5nZWQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImhhbmRsZUJlZm9yZVVubG9hZCIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJoYW5kbGVSb3V0ZUNoYW5nZSIsIm1vdmVUb1dlZWsiLCJuZXdZZWFyIiwibmV3V2VlayIsImxvY2F0aW9uIiwiaHJlZiIsInNhdmVXZWVrRGF0YSIsImhhbmRsZVJlZnJlc2giLCJoYW5kbGVTYXZlIiwiZGV0YWlsIiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImNvbGxpc2lvbkRldGVjdGlvbiIsIm9uRHJhZ1N0YXJ0Iiwib25EcmFnRW5kIiwibW9kaWZpZXJzIiwiZHJvcEFuaW1hdGlvbiIsInpJbmRleCIsImFkanVzdFNjYWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/week-shiwake/[year]/[week]/page.tsx\n"));

/***/ })

});