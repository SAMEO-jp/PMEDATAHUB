"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/bom/[project_id]/flat/konpo/route";
exports.ids = ["app/api/bom/[project_id]/flat/konpo/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "sqlite3":
/*!**************************!*\
  !*** external "sqlite3" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("sqlite3");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&page=%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute.ts&appDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&page=%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute.ts&appDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_DY0330_ENG_Desktop_project_giji_20250605bom_src_app_api_bom_project_id_flat_konpo_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/bom/[project_id]/flat/konpo/route.ts */ \"(rsc)/./src/app/api/bom/[project_id]/flat/konpo/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/bom/[project_id]/flat/konpo/route\",\n        pathname: \"/api/bom/[project_id]/flat/konpo\",\n        filename: \"route\",\n        bundlePath: \"app/api/bom/[project_id]/flat/konpo/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\DY0330.ENG\\\\Desktop\\\\project_giji\\\\20250605bom\\\\src\\\\app\\\\api\\\\bom\\\\[project_id]\\\\flat\\\\konpo\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_DY0330_ENG_Desktop_project_giji_20250605bom_src_app_api_bom_project_id_flat_konpo_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/bom/[project_id]/flat/konpo/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZib20lMkYlNUJwcm9qZWN0X2lkJTVEJTJGZmxhdCUyRmtvbnBvJTJGcm91dGUmcGFnZT0lMkZhcGklMkZib20lMkYlNUJwcm9qZWN0X2lkJTVEJTJGZmxhdCUyRmtvbnBvJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYm9tJTJGJTVCcHJvamVjdF9pZCU1RCUyRmZsYXQlMkZrb25wbyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNEWTAzMzAuRU5HJTVDRGVza3RvcCU1Q3Byb2plY3RfZ2lqaSU1QzIwMjUwNjA1Ym9tJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNEWTAzMzAuRU5HJTVDRGVza3RvcCU1Q3Byb2plY3RfZ2lqaSU1QzIwMjUwNjA1Ym9tJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNrRTtBQUMvSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3BtZS1zeXN0ZW0tdjAuMDFwcm9qZWN0Lz9kMjIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXERZMDMzMC5FTkdcXFxcRGVza3RvcFxcXFxwcm9qZWN0X2dpamlcXFxcMjAyNTA2MDVib21cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYm9tXFxcXFtwcm9qZWN0X2lkXVxcXFxmbGF0XFxcXGtvbnBvXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ib20vW3Byb2plY3RfaWRdL2ZsYXQva29ucG8vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ib20vW3Byb2plY3RfaWRdL2ZsYXQva29ucG9cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2JvbS9bcHJvamVjdF9pZF0vZmxhdC9rb25wby9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXERZMDMzMC5FTkdcXFxcRGVza3RvcFxcXFxwcm9qZWN0X2dpamlcXFxcMjAyNTA2MDVib21cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYm9tXFxcXFtwcm9qZWN0X2lkXVxcXFxmbGF0XFxcXGtvbnBvXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9ib20vW3Byb2plY3RfaWRdL2ZsYXQva29ucG8vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&page=%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute.ts&appDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/bom/[project_id]/flat/konpo/route.ts":
/*!**********************************************************!*\
  !*** ./src/app/api/bom/[project_id]/flat/konpo/route.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _src_lib_db_db_connection__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @src/lib/db/db_connection */ \"(rsc)/./src/lib/db/db_connection.ts\");\n/* eslint-disable @typescript-eslint/no-explicit-any */ \n\nasync function GET(request, { params }) {\n    let db = null;\n    try {\n        const projectId = params.project_id;\n        db = await (0,_src_lib_db_db_connection__WEBPACK_IMPORTED_MODULE_1__.initializeDatabase)();\n        if (!db) {\n            throw new Error(\"データベースの初期化に失敗しました\");\n        }\n        const query = `\n      SELECT\n        z.project_ID,\n        z.Zumen_ID,\n        z.Zumen_Name,\n        p.PART_ID,\n        p.PART_NAME,\n        p.QUANTITY,\n        p.SPARE_QUANTITY,\n        p.MANUFACTURER,\n        b.BUZAI_ID,\n        b.BUZAI_NAME,\n        b.BUZAI_WEIGHT,\n        b.BUZAI_QUANTITY,\n        b.ZAISITU_NAME,\n        kt.KONPO_TANNI_ID,\n        kt.PART_KO,\n        kt.ZENSU_KO,\n        kl.KONPO_LIST_ID,\n        kl.KONPO_LIST_WEIGHT,\n        kl.HASSOU_IN,\n        kl.HASSOU_TO\n      FROM BOM_ZUMEN z\n      INNER JOIN BOM_PART p\n        ON z.Zumen_ID = p.ZUMEN_ID\n      LEFT JOIN BOM_BUZAI b\n        ON b.Zumen_ID = p.ZUMEN_ID AND b.PART_ID = p.PART_ID\n      LEFT JOIN KONPO_TANNI kt\n        ON kt.ZUMEN_ID = p.ZUMEN_ID AND kt.PART_ID = p.PART_ID\n      LEFT JOIN KONPO_LIST kl\n        ON kt.KONPO_LIST_ID = kl.KONPO_LIST_ID\n      WHERE z.project_ID = ?\n    `;\n        const result = await db.all(query, [\n            projectId\n        ]);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (error) {\n        console.error(\"データの取得に失敗しました:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"データベースエラーが発生しました\"\n        }, {\n            status: 500\n        });\n    } finally{\n        if (db) {\n            try {\n                await db.close();\n            } catch (closeErr) {\n                console.warn(\"DBクローズ時にエラーが発生しました:\", closeErr);\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ib20vW3Byb2plY3RfaWRdL2ZsYXQva29ucG8vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEscURBQXFELEdBQ1Y7QUFDb0I7QUFFeEQsZUFBZUUsSUFDcEJDLE9BQWdCLEVBQ2hCLEVBQUVDLE1BQU0sRUFBc0M7SUFFOUMsSUFBSUMsS0FBVTtJQUNkLElBQUk7UUFDRixNQUFNQyxZQUFZRixPQUFPRyxVQUFVO1FBQ25DRixLQUFLLE1BQU1KLDZFQUFrQkE7UUFFN0IsSUFBSSxDQUFDSSxJQUFJO1lBQ1AsTUFBTSxJQUFJRyxNQUFNO1FBQ2xCO1FBRUEsTUFBTUMsUUFBUSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWdDZixDQUFDO1FBRUQsTUFBTUMsU0FBUyxNQUFNTCxHQUFHTSxHQUFHLENBQUNGLE9BQU87WUFBQ0g7U0FBVTtRQUU5QyxPQUFPTixxREFBWUEsQ0FBQ1ksSUFBSSxDQUFDRjtJQUMzQixFQUFFLE9BQU9HLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtCQUFrQkE7UUFDaEMsT0FBT2IscURBQVlBLENBQUNZLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUFtQixHQUM1QjtZQUFFRSxRQUFRO1FBQUk7SUFFbEIsU0FBVTtRQUNSLElBQUlWLElBQUk7WUFDTixJQUFJO2dCQUNGLE1BQU1BLEdBQUdXLEtBQUs7WUFDaEIsRUFBRSxPQUFPQyxVQUFVO2dCQUNqQkgsUUFBUUksSUFBSSxDQUFDLHVCQUF1QkQ7WUFDdEM7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbWUtc3lzdGVtLXYwLjAxcHJvamVjdC8uL3NyYy9hcHAvYXBpL2JvbS9bcHJvamVjdF9pZF0vZmxhdC9rb25wby9yb3V0ZS50cz8zZmQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGluaXRpYWxpemVEYXRhYmFzZSB9IGZyb20gJ0BzcmMvbGliL2RiL2RiX2Nvbm5lY3Rpb24nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKFxuICByZXF1ZXN0OiBSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBwcm9qZWN0X2lkOiBzdHJpbmcgfSB9XG4pIHtcbiAgbGV0IGRiOiBhbnkgPSBudWxsO1xuICB0cnkge1xuICAgIGNvbnN0IHByb2plY3RJZCA9IHBhcmFtcy5wcm9qZWN0X2lkO1xuICAgIGRiID0gYXdhaXQgaW5pdGlhbGl6ZURhdGFiYXNlKCk7XG5cbiAgICBpZiAoIWRiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ODh+ODvOOCv+ODmeODvOOCueOBruWIneacn+WMluOBq+WkseaVl+OBl+OBvuOBl+OBnycpO1xuICAgIH1cblxuICAgIGNvbnN0IHF1ZXJ5ID0gYFxuICAgICAgU0VMRUNUXG4gICAgICAgIHoucHJvamVjdF9JRCxcbiAgICAgICAgei5adW1lbl9JRCxcbiAgICAgICAgei5adW1lbl9OYW1lLFxuICAgICAgICBwLlBBUlRfSUQsXG4gICAgICAgIHAuUEFSVF9OQU1FLFxuICAgICAgICBwLlFVQU5USVRZLFxuICAgICAgICBwLlNQQVJFX1FVQU5USVRZLFxuICAgICAgICBwLk1BTlVGQUNUVVJFUixcbiAgICAgICAgYi5CVVpBSV9JRCxcbiAgICAgICAgYi5CVVpBSV9OQU1FLFxuICAgICAgICBiLkJVWkFJX1dFSUdIVCxcbiAgICAgICAgYi5CVVpBSV9RVUFOVElUWSxcbiAgICAgICAgYi5aQUlTSVRVX05BTUUsXG4gICAgICAgIGt0LktPTlBPX1RBTk5JX0lELFxuICAgICAgICBrdC5QQVJUX0tPLFxuICAgICAgICBrdC5aRU5TVV9LTyxcbiAgICAgICAga2wuS09OUE9fTElTVF9JRCxcbiAgICAgICAga2wuS09OUE9fTElTVF9XRUlHSFQsXG4gICAgICAgIGtsLkhBU1NPVV9JTixcbiAgICAgICAga2wuSEFTU09VX1RPXG4gICAgICBGUk9NIEJPTV9aVU1FTiB6XG4gICAgICBJTk5FUiBKT0lOIEJPTV9QQVJUIHBcbiAgICAgICAgT04gei5adW1lbl9JRCA9IHAuWlVNRU5fSURcbiAgICAgIExFRlQgSk9JTiBCT01fQlVaQUkgYlxuICAgICAgICBPTiBiLlp1bWVuX0lEID0gcC5aVU1FTl9JRCBBTkQgYi5QQVJUX0lEID0gcC5QQVJUX0lEXG4gICAgICBMRUZUIEpPSU4gS09OUE9fVEFOTkkga3RcbiAgICAgICAgT04ga3QuWlVNRU5fSUQgPSBwLlpVTUVOX0lEIEFORCBrdC5QQVJUX0lEID0gcC5QQVJUX0lEXG4gICAgICBMRUZUIEpPSU4gS09OUE9fTElTVCBrbFxuICAgICAgICBPTiBrdC5LT05QT19MSVNUX0lEID0ga2wuS09OUE9fTElTVF9JRFxuICAgICAgV0hFUkUgei5wcm9qZWN0X0lEID0gP1xuICAgIGA7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5hbGwocXVlcnksIFtwcm9qZWN0SWRdKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXN1bHQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+ODh+ODvOOCv+OBruWPluW+l+OBq+WkseaVl+OBl+OBvuOBl+OBnzonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ+ODh+ODvOOCv+ODmeODvOOCueOCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBnycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH0gZmluYWxseSB7XG4gICAgaWYgKGRiKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBkYi5jbG9zZSgpO1xuICAgICAgfSBjYXRjaCAoY2xvc2VFcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEQuOCr+ODreODvOOCuuaZguOBq+OCqOODqeODvOOBjOeZuueUn+OBl+OBvuOBl+OBnzonLCBjbG9zZUVycik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiaW5pdGlhbGl6ZURhdGFiYXNlIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsImRiIiwicHJvamVjdElkIiwicHJvamVjdF9pZCIsIkVycm9yIiwicXVlcnkiLCJyZXN1bHQiLCJhbGwiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwiY2xvc2UiLCJjbG9zZUVyciIsIndhcm4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/bom/[project_id]/flat/konpo/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db/db_connection.ts":
/*!*************************************!*\
  !*** ./src/lib/db/db_connection.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase)\n/* harmony export */ });\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sqlite3 */ \"sqlite3\");\n/* harmony import */ var sqlite3__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(sqlite3__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sqlite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sqlite */ \"(rsc)/./node_modules/sqlite/build/index.mjs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n// データベース接続を初期化する関数\nasync function initializeDatabase() {\n    try {\n        // データベースファイルのパスを設定\n        const dbPath = path__WEBPACK_IMPORTED_MODULE_0___default().join(process.cwd(), \"data\", \"achievements.db\");\n        // データベースディレクトリの存在確認\n        const dbDir = path__WEBPACK_IMPORTED_MODULE_0___default().dirname(dbPath);\n        if (!fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(dbDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_3___default().mkdirSync(dbDir, {\n                recursive: true\n            });\n        }\n        // データベースファイルの存在確認\n        if (!fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(dbPath)) {\n            throw new Error(\"データベースファイルが存在しません\");\n        }\n        // データベース接続を試行\n        const db = await (0,sqlite__WEBPACK_IMPORTED_MODULE_2__.open)({\n            filename: dbPath,\n            driver: (sqlite3__WEBPACK_IMPORTED_MODULE_1___default().Database)\n        });\n        return db;\n    } catch (error) {\n        console.error(\"DB: データベース接続エラー\", error);\n        throw error;\n    }\n}\n// 関数のみをエクスポート\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiL2RiX2Nvbm5lY3Rpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBd0I7QUFDTTtBQUNBO0FBQ1Y7QUFFcEIsbUJBQW1CO0FBQ25CLGVBQWVJO0lBQ1gsSUFBSTtRQUNBLG1CQUFtQjtRQUNuQixNQUFNQyxTQUFTTCxnREFBUyxDQUFDTyxRQUFRQyxHQUFHLElBQUksUUFBUTtRQUVoRCxvQkFBb0I7UUFDcEIsTUFBTUMsUUFBUVQsbURBQVksQ0FBQ0s7UUFDM0IsSUFBSSxDQUFDRixvREFBYSxDQUFDTSxRQUFRO1lBQ3ZCTixtREFBWSxDQUFDTSxPQUFPO2dCQUFFSSxXQUFXO1lBQUs7UUFDMUM7UUFFQSxrQkFBa0I7UUFDbEIsSUFBSSxDQUFDVixvREFBYSxDQUFDRSxTQUFTO1lBQ3hCLE1BQU0sSUFBSVMsTUFBTTtRQUNwQjtRQUVBLGNBQWM7UUFDZCxNQUFNQyxLQUFLLE1BQU1iLDRDQUFJQSxDQUFDO1lBQ2xCYyxVQUFVWDtZQUNWWSxRQUFRaEIseURBQWdCO1FBQzVCO1FBRUEsT0FBT2M7SUFDWCxFQUFFLE9BQU9JLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLG1CQUFtQkE7UUFDakMsTUFBTUE7SUFDVjtBQUNKO0FBRUEsY0FBYztBQUNnQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BtZS1zeXN0ZW0tdjAuMDFwcm9qZWN0Ly4vc3JjL2xpYi9kYi9kYl9jb25uZWN0aW9uLnRzPzM0YzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCBzcWxpdGUzIGZyb20gJ3NxbGl0ZTMnO1xyXG5pbXBvcnQgeyBvcGVuIH0gZnJvbSAnc3FsaXRlJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuXHJcbi8vIOODh+ODvOOCv+ODmeODvOOCueaOpee2muOCkuWIneacn+WMluOBmeOCi+mWouaVsFxyXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRGF0YWJhc2UoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIOODh+ODvOOCv+ODmeODvOOCueODleOCoeOCpOODq+OBruODkeOCueOCkuioreWumlxyXG4gICAgICAgIGNvbnN0IGRiUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScsICdhY2hpZXZlbWVudHMuZGInKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyDjg4fjg7zjgr/jg5njg7zjgrnjg4fjgqPjg6zjgq/jg4jjg6rjga7lrZjlnKjnorroqo1cclxuICAgICAgICBjb25zdCBkYkRpciA9IHBhdGguZGlybmFtZShkYlBhdGgpO1xyXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhkYkRpcikpIHtcclxuICAgICAgICAgICAgZnMubWtkaXJTeW5jKGRiRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIOODh+ODvOOCv+ODmeODvOOCueODleOCoeOCpOODq+OBruWtmOWcqOeiuuiqjVxyXG4gICAgICAgIGlmICghZnMuZXhpc3RzU3luYyhkYlBhdGgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign44OH44O844K/44OZ44O844K544OV44Kh44Kk44Or44GM5a2Y5Zyo44GX44G+44Gb44KTJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDjg4fjg7zjgr/jg5njg7zjgrnmjqXntprjgpLoqabooYxcclxuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IG9wZW4oe1xyXG4gICAgICAgICAgICBmaWxlbmFtZTogZGJQYXRoLFxyXG4gICAgICAgICAgICBkcml2ZXI6IHNxbGl0ZTMuRGF0YWJhc2VcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRiO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdEQjog44OH44O844K/44OZ44O844K55o6l57aa44Ko44Op44O8JywgZXJyb3IpO1xyXG4gICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyDplqLmlbDjga7jgb/jgpLjgqjjgq/jgrnjg53jg7zjg4hcclxuZXhwb3J0IHsgaW5pdGlhbGl6ZURhdGFiYXNlIH07XHJcblxyXG4vKiog44OG44O844OW44Or6Kit5a6a44Gu5Z6L5a6a576pICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVDb25maWcge1xyXG4gICAgdGFibGVOYW1lOiBzdHJpbmc7XHJcbiAgICBpZENvbHVtbjogc3RyaW5nO1xyXG59XHJcbiAgXHJcbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVSZWFkQ29uZmlnIHtcclxuICAgIHRhYmxlTmFtZTogc3RyaW5nO1xyXG59XHJcblxyXG4vKiog44OH44O844K/5Y+W5b6X57WQ5p6c44Gu5Z6L5a6a576pICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGF0YVJlc3VsdDxUID0gdW5rbm93bj4ge1xyXG4gICAgc3VjY2VzczogYm9vbGVhbjtcclxuICAgIGRhdGE/OiBUIHwgbnVsbDtcclxuICAgIGVycm9yPzogc3RyaW5nIHwgbnVsbDtcclxuICAgIGNvdW50PzogbnVtYmVyO1xyXG59Il0sIm5hbWVzIjpbInBhdGgiLCJzcWxpdGUzIiwib3BlbiIsImZzIiwiaW5pdGlhbGl6ZURhdGFiYXNlIiwiZGJQYXRoIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJkYkRpciIsImRpcm5hbWUiLCJleGlzdHNTeW5jIiwibWtkaXJTeW5jIiwicmVjdXJzaXZlIiwiRXJyb3IiLCJkYiIsImZpbGVuYW1lIiwiZHJpdmVyIiwiRGF0YWJhc2UiLCJlcnJvciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db/db_connection.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/sqlite"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&page=%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbom%2F%5Bproject_id%5D%2Fflat%2Fkonpo%2Froute.ts&appDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CDY0330.ENG%5CDesktop%5Cproject_giji%5C20250605bom&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();