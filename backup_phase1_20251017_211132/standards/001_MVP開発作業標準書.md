# MVP開発作業標準書

**文書バージョン**: 1.0
**作成日**: 2025-10-17
**対象システム**: PLM (Project Lifecycle Management) アプリケーション
**目的**: 均一な品質でのアプリ設計・開発基礎の確立

## 概要

この標準書は、PLMアプリケーションのMVP開発において、データベース設計から画面作成まで一貫した品質を保つための作業手順を定義します。

### 開発フロー概要

```
データベース設計 → API実装 → 画面作成 → テスト → ドキュメント更新
```

## 1. 開発環境と前提条件

### 技術スタック
- **フロントエンド**: Next.js 14 App Router, TypeScript, TailwindCSS, shadcn/ui
- **バックエンド**: tRPC API
- **データベース**: SQLite + Prisma ORM
- **開発環境**: Node.js, Claude Code

### ディレクトリ構造
```
src/apps/plm/
├── prismas/           # データベーススキーマ
├── api/              # tRPC API定義
├── components/       # UIコンポーネント
├── pages/           # ページコンポーネント
├── lib/             # ユーティリティ
├── types/           # TypeScript型定義
└── hooks/           # カスタムフック

specs/
├── 001_開発作業標準書策定/
│   ├── spec.md       # 機能仕様書
│   └── speckit.plan  # 実装計画書
└── 002_PLMアプリケーション/
    ├── spec.md       # 機能仕様書
    └── speckit.plan  # 実装計画書（必要に応じて）
```

### SPECシート管理方針
- **speckit.plan配置原則**: 関連するSPECシートと同じディレクトリに配置する
- **ディレクトリ命名**: `XXX_日本語名/` 形式でナンバリングと日本語名を併用
- **必須ファイル**: `spec.md`（機能仕様書）は各ディレクトリに必須
- **任意ファイル**: `speckit.plan`（実装計画書）は必要に応じて作成

## 2. 品質基準

### コード品質
- TypeScript厳格モード使用
- ESLintルール遵守
- Prettierによるコードフォーマット
- `any`型の使用禁止

### データベース設計品質
- 正規化されたスキーマ設計
- 適切なリレーション定義
- 日本語マッピング(`@map`)の使用
- 履歴管理テーブルの一貫した設計

### UI/UX品質
- shadcn/uiコンポーネントの活用
- レスポンシブデザイン対応
- アクセシビリティ考慮
- 一貫したデザインシステム

## 3. 開発プロセス

### Phase 1: 計画・設計
1. **要件定義確認**
   - 仕様書の理解
   - エンティティの特定
   - データフローの把握

2. **データベース設計レビュー**
   - 既存スキーマとの整合性確認
   - リレーション設計の妥当性検証
   - パフォーマンス要件の考慮

### Phase 2: 実装
1. **データベース実装**
   - Prismaスキーマ更新
   - マイグレーション実行
   - シードデータ作成

2. **API実装**
   - tRPCルーター作成
   - 型安全なCRUD操作実装
   - エラーハンドリング

3. **フロントエンド実装**
   - ページコンポーネント作成
   - フォームコンポーネント実装
   - データ表示コンポーネント作成

### Phase 3: 検証・品質保証
1. **機能テスト**
   - CRUD操作の確認
   - データ整合性チェック
   - エラーハンドリング確認

2. **品質チェック**
   - 型安全性の確認
   - レスポンシブデザイン確認
   - パフォーマンステスト

## 4. 作業チェックリスト

### データベース作業
- [ ] スキーマ設計書の作成
- [ ] Prismaモデル定義
- [ ] リレーション設定
- [ ] マイグレーション実行
- [ ] シードデータ準備

### API作業
- [ ] tRPCルーター作成
- [ ] 入力バリデーション実装
- [ ] エラーハンドリング実装
- [ ] 型定義エクスポート
- [ ] APIテスト実行

### フロントエンド作業
- [ ] ページレイアウト作成
- [ ] フォームコンポーネント実装
- [ ] データ表示コンポーネント実装
- [ ] ナビゲーション統合
- [ ] レスポンシブ対応確認

## 5. ドキュメント管理

### 必須ドキュメント
1. **データベース設計書**: `docs/database/plm-schema.md`
2. **API仕様書**: `docs/api/plm-api.md`
3. **画面設計書**: `docs/ui/plm-screens.md`
4. **テスト結果**: `docs/testing/plm-test-results.md`

### ドキュメント更新タイミング
- 機能追加時
- 仕様変更時
- バグ修正時
- レビュー完了時

## 6. 次フェーズへの引き継ぎ

### 完了確認項目
- [ ] 全機能の動作確認完了
- [ ] コード品質チェック完了
- [ ] ドキュメント更新完了
- [ ] テスト結果記録完了

### 引き継ぎ資料
- 実装した機能一覧
- 既知の問題・制限事項
- 今後の改善提案
- 標準書の改良点

---

この標準書に従って開発を進めることで、一貫した品質のアプリケーション開発が可能になります。